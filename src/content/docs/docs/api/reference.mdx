---
title: API Reference
sidebar:
  order: 4
---

{/* AUTO-GENERATED FILE - DO NOT EDIT
  This file is generated by: npm run generate:api-docs
  To update: modify operator versions in .api-docs-config.yaml and regenerate
*/}

## Packages
- [activity.miloapis.com/v1alpha1](#activitymiloapiscomv1alpha1)
- [crm.miloapis.com/v1alpha1](#crmmiloapiscomv1alpha1)
- [dns.networking.miloapis.com/v1alpha1](#dnsnetworkingmiloapiscomv1alpha1)
- [iam.miloapis.com/v1alpha1](#iammiloapiscomv1alpha1)
- [identity.miloapis.com/v1alpha1](#identitymiloapiscomv1alpha1)
- [infrastructure.miloapis.com/v1alpha1](#infrastructuremiloapiscomv1alpha1)
- [networking.datumapis.com/v1alpha](#networkingdatumapiscomv1alpha)
- [notification.miloapis.com/v1alpha1](#notificationmiloapiscomv1alpha1)
- [quota.miloapis.com/v1alpha1](#quotamiloapiscomv1alpha1)
- [resourcemanager.miloapis.com/v1alpha1](#resourcemanagermiloapiscomv1alpha1)
- [telemetry.miloapis.com/v1alpha1](#telemetrymiloapiscomv1alpha1)


## activity.miloapis.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the activity v1alpha1 API group




#### AuditLogQuery



AuditLogQuery searches your control plane's audit logs.

Use this to investigate incidents, track resource changes, generate compliance reports,
or analyze user activity. Results are returned in the Status field, ordered newest-first.

Quick Start:

	apiVersion: activity.miloapis.com/v1alpha1
	kind: AuditLogQuery
	metadata:
	  name: recent-deletions
	spec:
	  startTime: "now-30d"       # last 30 days
	  endTime: "now"
	  filter: "verb == 'delete'" # optional: narrow your search
	  limit: 100

Time Formats:
- Relative: "now-30d" (great for dashboards and recurring queries)
- Absolute: "2024-01-01T00:00:00Z" (great for historical analysis)



_Appears in:_
- [AuditLogQueryList](#auditlogquerylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[AuditLogQuerySpec](#auditlogqueryspec)_ |  |  |  |
| `status` <br />_[AuditLogQueryStatus](#auditlogquerystatus)_ |  |  |  |




#### AuditLogQuerySpec



AuditLogQuerySpec defines the search parameters.

Required: startTime and endTime define your search window.
Optional: filter (narrow results), limit (page size, default 100), continue (pagination).

Performance: Smaller time ranges and specific filters perform better. The maximum time window
is typically 30 days. If your range is too large, you'll get an error with guidance on splitting
your query into smaller chunks.



_Appears in:_
- [AuditLogQuery](#auditlogquery)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `startTime` <br />_string_ | StartTime is the beginning of your search window (inclusive).<br /><br />Format Options:<br />- Relative: "now-30d", "now-2h", "now-30m" (units: s, m, h, d, w)<br />  Use for dashboards and recurring queries - they adjust automatically.<br />- Absolute: "2024-01-01T00:00:00Z" (RFC3339 with timezone)<br />  Use for historical analysis of specific time periods.<br /><br />Examples:<br />  "now-30d"                     → 30 days ago<br />  "2024-06-15T14:30:00-05:00"   → specific time with timezone offset |  |  |
| `endTime` <br />_string_ | EndTime is the end of your search window (exclusive).<br /><br />Uses the same formats as StartTime. Commonly "now" for current moment.<br /><br />Must be greater than StartTime.<br /><br />Examples:<br />  "now"                  → current time<br />  "2024-01-02T00:00:00Z" → specific end point |  |  |
| `filter` <br />_string_ | Filter narrows results using CEL (Common Expression Language). Leave empty to get all events.<br /><br />Available Fields:<br />  verb               - API action: get, list, create, update, patch, delete, watch<br />  auditID            - unique event identifier<br />  requestReceivedTimestamp - when the API server received the request (RFC3339 timestamp)<br />  user.username      - who made the request (user or service account)<br />  user.uid           - unique user identifier (stable across username changes)<br />  responseStatus.code - HTTP response code (200, 201, 404, 500, etc.)<br />  objectRef.namespace - target resource namespace<br />  objectRef.resource  - resource type (pods, deployments, secrets, configmaps, etc.)<br />  objectRef.name     - specific resource name<br />Operators: ==, !=, &lt;, &gt;, &lt;=, &gt;=, &&, \|\|, in<br />String Functions: startsWith(), endsWith(), contains()<br />Common Patterns:<br />  "verb == 'delete'"                                    - All deletions<br />  "objectRef.namespace == 'production'"                 - Activity in production namespace<br />  "verb in ['create', 'update', 'delete', 'patch']"     - All write operations<br />  "responseStatus.code &gt;= 400"                          - Failed requests<br />  "user.username.startsWith('system:serviceaccount:')"  - Service account activity<br />  "user.uid == '550e8400-e29b-41d4-a716-446655440000'"  - Specific user by UID<br />  "objectRef.resource == 'secrets'"                     - Secret access<br />  "verb == 'delete' && objectRef.namespace == 'production'" - Production deletions<br />Note: Use single quotes for strings. Field names are case-sensitive.<br /><br />CEL reference: https://cel.dev |  |  |
| `limit` <br />_integer_ | Limit sets the maximum number of results per page.<br /><br />Default: 100, Maximum: 1000.<br /><br />Use smaller values (10-50) for exploration, larger (500-1000) for data collection.<br /><br />Use continue to fetch additional pages. |  |  |
| `continue` <br />_string_ | Continue is the pagination cursor for fetching additional pages.<br /><br />Leave empty for the first page. If status.continue is non-empty after a query,<br />copy that value here in a new query with identical parameters to get the next page.<br /><br />Repeat until status.continue is empty.<br /><br />Important: Keep all other parameters (startTime, endTime, filter, limit) identical<br />across paginated requests. The cursor is opaque - copy it exactly without modification. |  |  |


#### AuditLogQueryStatus



AuditLogQueryStatus contains the query results and pagination state.



_Appears in:_
- [AuditLogQuery](#auditlogquery)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `results` <br />_Event array_ | Results contains matching audit events, sorted newest-first.<br /><br />Each event follows the Kubernetes audit.Event format with fields like:<br />  verb, user.username, objectRef.\{namespace,resource,name\}, requestReceivedTimestamp,<br />  stageTimestamp, responseStatus.code, requestObject, responseObject<br />Empty results? Try broadening your filter or time range.<br /><br />Full documentation: https://kubernetes.io/docs/reference/config-api/apiserver-audit.v1/ |  |  |
| `continue` <br />_string_ | Continue is the pagination cursor.<br /><br />Non-empty means more results are available - copy this to spec.continue for the next page.<br /><br />Empty means you have all results. |  |  |
| `effectiveStartTime` <br />_string_ | EffectiveStartTime is the actual start time used for this query (RFC3339 format).<br /><br />When you use relative times like "now-7d", this shows the exact timestamp that was<br />calculated. Useful for understanding exactly what time range was queried, especially<br />for auditing, debugging, or recreating queries with absolute timestamps.<br /><br />Example: If you query with startTime="now-7d" at 2025-12-17T12:00:00Z,<br />this will be "2025-12-10T12:00:00Z". |  |  |
| `effectiveEndTime` <br />_string_ | EffectiveEndTime is the actual end time used for this query (RFC3339 format).<br /><br />When you use relative times like "now", this shows the exact timestamp that was<br />calculated. Useful for understanding exactly what time range was queried.<br /><br />Example: If you query with endTime="now" at 2025-12-17T12:00:00Z,<br />this will be "2025-12-17T12:00:00Z". |  |  |



## crm.miloapis.com/v1alpha1


### Resource Types
- [Note](#note)
- [NoteList](#notelist)



#### Note



Note is the Schema for the notes API.
It represents a note attached to a subject (e.g. Contact or User).



_Appears in:_
- [NoteList](#notelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `crm.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Note` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[NoteSpec](#notespec)_ |  |  | Type: object <br /> |
| `status` <br />_[NoteStatus](#notestatus)_ |  |  |  |


#### NoteList



NoteList contains a list of Note.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `crm.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `NoteList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Note](#note) array_ |  |  |  |


#### NoteSpec



NoteSpec defines the desired state of Note.

_Validation:_
- Type: object

_Appears in:_
- [Note](#note)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subjectRef` <br />_[SubjectReference](#subjectreference)_ | Subject is a reference to the subject of the note. |  | Required: \{\} <br />Type: object <br /> |
| `content` <br />_string_ | Content is the text content of the note. |  | MaxLength: 1000 <br />Required: \{\} <br /> |
| `interactionTime` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | InteractionTime is the timestamp of the interaction with the subject. |  | Optional: \{\} <br /> |
| `nextAction` <br />_string_ | NextAction is an optional follow-up action. |  | Optional: \{\} <br /> |
| `nextActionTime` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | NextActionTime is the timestamp for the follow-up action. |  | Optional: \{\} <br /> |
| `followUp` <br />_boolean_ | FollowUp indicates whether this note requires follow-up.<br /><br />When true, the note is being actively tracked for further action. | false | Optional: \{\} <br /> |
| `creatorRef` <br />_[UserReference](#userreference)_ | CreatorRef is a reference to the user that created the note.<br /><br />Defaults to the user that created the note. |  | Optional: \{\} <br /> |


#### NoteStatus



NoteStatus defines the observed state of Note



_Appears in:_
- [Note](#note)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the Note. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `createdBy` <br />_string_ | CreatedBy is the email of the user that created the note. |  | Optional: \{\} <br /> |


#### SubjectReference



SubjectReference is a reference to the subject of the note.

_Validation:_
- Type: object

_Appears in:_
- [NoteSpec](#notespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup is the group for the resource being referenced. |  | Enum: [iam.miloapis.com notification.miloapis.com] <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind is the type of resource being referenced. |  | Enum: [User Contact] <br />Required: \{\} <br /> |
| `name` <br />_string_ | Name is the name of resource being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace is the namespace of resource being referenced.<br /><br />Required for namespace-scoped resources. Omitted for cluster-scoped resources. |  | Optional: \{\} <br /> |



## dns.networking.miloapis.com/v1alpha1

SPDX-License-Identifier: AGPL-3.0-only

One-shot discovery/snapshot of existing DNS records for a DNSZone.
On creation, a controller queries common RR types for the zone and stores
them in .status for easy extraction/translation into DNSRecordSet objects.
This object is write-once (status) and has no lifecycle beyond initial discovery.

Package v1alpha1 contains API Schema definitions for the dns v1alpha1 API group.

### Resource Types
- [DNSRecordSet](#dnsrecordset)
- [DNSRecordSetList](#dnsrecordsetlist)
- [DNSZone](#dnszone)
- [DNSZoneClass](#dnszoneclass)
- [DNSZoneClassList](#dnszoneclasslist)
- [DNSZoneDiscovery](#dnszonediscovery)
- [DNSZoneDiscoveryList](#dnszonediscoverylist)
- [DNSZoneList](#dnszonelist)



#### AAAARecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ |  |  | Format: ipv6 <br /> |


#### ARecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ |  |  | Format: ipv4 <br /> |


#### CAARecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `flag` <br />_integer_ | 0–255 flag |  | Maximum: 255 <br />Minimum: 0 <br /> |
| `tag` <br />_string_ | RFC-style tags: keep it simple: [a-z0-9]+ |  | MinLength: 1 <br />Pattern: `^[a-z0-9]+$` <br /> |
| `value` <br />_string_ |  |  | MinLength: 1 <br /> |


#### CNAMERecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ |  |  | MaxLength: 253 <br />MinLength: 1 <br />Pattern: `^([A-Za-z0-9_](?:[-A-Za-z0-9_]\{0,61\}[A-Za-z0-9_])?)(?:\.([A-Za-z0-9_](?:[-A-Za-z0-9_]\{0,61\}[A-Za-z0-9_])?))*\.?$` <br /> |


#### DNSRecordSet



DNSRecordSet is the Schema for the dnsrecordsets API



_Appears in:_
- [DNSRecordSetList](#dnsrecordsetlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSRecordSet` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[DNSRecordSetSpec](#dnsrecordsetspec)_ | spec defines the desired state of DNSRecordSet |  |  |
| `status` <br />_[DNSRecordSetStatus](#dnsrecordsetstatus)_ | status defines the observed state of DNSRecordSet |  |  |


#### DNSRecordSetList



DNSRecordSetList contains a list of DNSRecordSet





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSRecordSetList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[DNSRecordSet](#dnsrecordset) array_ |  |  |  |


#### DNSRecordSetSpec



DNSRecordSetSpec defines the desired state of DNSRecordSet



_Appears in:_
- [DNSRecordSet](#dnsrecordset)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `dnsZoneRef` <br />_[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#localobjectreference-v1-core)_ | DNSZoneRef references the DNSZone (same namespace) this recordset belongs to. |  | Required: \{\} <br /> |
| `recordType` <br />_[RRType](#rrtype)_ | RecordType is the DNS RR type for this recordset. |  | Enum: [A AAAA CNAME TXT MX SRV CAA NS SOA PTR TLSA HTTPS SVCB] <br />Required: \{\} <br /> |
| `records` <br />_[RecordEntry](#recordentry) array_ | Records contains one or more owner names with values appropriate for the RecordType. |  | MinItems: 1 <br /> |


#### DNSRecordSetStatus



DNSRecordSetStatus defines the observed state of DNSRecordSet.



_Appears in:_
- [DNSRecordSet](#dnsrecordset)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions includes Accepted and Programmed readiness. |  |  |
| `recordSets` <br />_[RecordSetStatus](#recordsetstatus) array_ | RecordSets captures per-owner (per name) status and conditions. |  |  |


#### DNSZone



DNSZone is the Schema for the dnszones API



_Appears in:_
- [DNSZoneList](#dnszonelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZone` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[DNSZoneSpec](#dnszonespec)_ | spec defines the desired state of DNSZone |  |  |
| `status` <br />_[DNSZoneStatus](#dnszonestatus)_ | status defines the observed state of DNSZone |  |  |


#### DNSZoneClass



DNSZoneClass is the Schema for the dnszoneclasses API



_Appears in:_
- [DNSZoneClassList](#dnszoneclasslist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZoneClass` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[DNSZoneClassSpec](#dnszoneclassspec)_ | spec defines the desired state of DNSZoneClass |  |  |
| `status` <br />_[DNSZoneClassStatus](#dnszoneclassstatus)_ | status defines the observed state of DNSZoneClass |  |  |


#### DNSZoneClassList



DNSZoneClassList contains a list of DNSZoneClass





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZoneClassList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[DNSZoneClass](#dnszoneclass) array_ |  |  |  |


#### DNSZoneClassSpec



DNSZoneClassSpec defines the desired state of DNSZoneClass



_Appears in:_
- [DNSZoneClass](#dnszoneclass)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `controllerName` <br />_string_ | ControllerName identifies the downstream controller/backend implementation (e.g., "powerdns", "hickory"). |  | Required: \{\} <br /> |
| `nameServerPolicy` <br />_[NameServerPolicy](#nameserverpolicy)_ | NameServerPolicy defines how nameservers are assigned for zones using this class. |  |  |
| `defaults` <br />_[ZoneDefaults](#zonedefaults)_ | Defaults provides optional default values applied to managed zones. |  |  |


#### DNSZoneClassStatus



DNSZoneClassStatus defines the observed state of DNSZoneClass.



_Appears in:_
- [DNSZoneClass](#dnszoneclass)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the current state of the resource. Common types include<br />"Accepted" and "Programmed" to standardize readiness reporting across controllers. |  |  |


#### DNSZoneDiscovery



DNSZoneDiscovery is the Schema for the DNSZone discovery API.



_Appears in:_
- [DNSZoneDiscoveryList](#dnszonediscoverylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZoneDiscovery` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[DNSZoneDiscoverySpec](#dnszonediscoveryspec)_ | spec defines the desired target for discovery. |  |  |
| `status` <br />_[DNSZoneDiscoveryStatus](#dnszonediscoverystatus)_ | status contains the discovered data (write-once). |  |  |


#### DNSZoneDiscoveryList



DNSZoneDiscoveryList contains a list of DNSZoneDiscovery





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZoneDiscoveryList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[DNSZoneDiscovery](#dnszonediscovery) array_ |  |  |  |


#### DNSZoneDiscoverySpec



DNSZoneDiscoverySpec defines the desired discovery target.



_Appears in:_
- [DNSZoneDiscovery](#dnszonediscovery)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `dnsZoneRef` <br />_[LocalObjectReference](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#localobjectreference-v1-core)_ | DNSZoneRef references the DNSZone (same namespace) this discovery targets. |  | Required: \{\} <br /> |


#### DNSZoneDiscoveryStatus



DNSZoneDiscoveryStatus defines the observed snapshot of a DNS zone.



_Appears in:_
- [DNSZoneDiscovery](#dnszonediscovery)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions includes Accepted and Discovered. |  |  |
| `recordSets` <br />_[DiscoveredRecordSet](#discoveredrecordset) array_ | RecordSets is the set of discovered RRsets grouped by RecordType. |  |  |


#### DNSZoneList



DNSZoneList contains a list of DNSZone





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `dns.networking.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `DNSZoneList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[DNSZone](#dnszone) array_ |  |  |  |


#### DNSZoneSpec



DNSZoneSpec defines the desired state of DNSZone



_Appears in:_
- [DNSZone](#dnszone)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `domainName` <br />_string_ | DomainName is the FQDN of the zone (e.g., "example.com"). |  | MaxLength: 253 <br />MinLength: 1 <br />Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$` <br />Required: \{\} <br /> |
| `dnsZoneClassName` <br />_string_ | DNSZoneClassName references the DNSZoneClass used to provision this zone. |  | Required: \{\} <br /> |


#### DNSZoneStatus



DNSZoneStatus defines the observed state of DNSZone.



_Appears in:_
- [DNSZone](#dnszone)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `nameservers` <br />_string array_ | Nameservers lists the active authoritative nameservers for this zone. |  |  |
| `recordCount` <br />_integer_ | RecordCount is the number of DNSRecordSet resources in this namespace that reference this zone. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions tracks state such as Accepted and Programmed readiness. |  |  |
| `domainRef` <br />_[DomainRef](#domainref)_ | DomainRef references the Domain this zone belongs to. |  |  |


#### DiscoveredRecordSet



DiscoveredRecordSet groups discovered records by type.



_Appears in:_
- [DNSZoneDiscoveryStatus](#dnszonediscoverystatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `recordType` <br />_[RRType](#rrtype)_ | RecordType is the DNS RR type for this recordset. |  | Enum: [A AAAA CNAME TXT MX SRV CAA NS SOA PTR TLSA HTTPS SVCB] <br />Required: \{\} <br /> |
| `records` <br />_[RecordEntry](#recordentry) array_ | Records contains one or more owner names with values appropriate for the RecordType.<br /><br />The RecordEntry schema is shared with DNSRecordSet for easy translation. |  |  |


#### DomainRef







_Appears in:_
- [DNSZoneStatus](#dnszonestatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ |  |  |  |
| `status` <br />_[DomainRefStatus](#domainrefstatus)_ |  |  |  |


#### DomainRefStatus







_Appears in:_
- [DomainRef](#domainref)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `nameservers` <br />_Nameserver array_ |  |  |  |


#### HTTPSRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `priority` <br />_integer_ |  |  | Maximum: 65535 <br />Minimum: 0 <br /> |
| `target` <br />_string_ |  |  |  |
| `params` <br />_object (keys:string, values:string)_ |  |  |  |


#### MXRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `preference` <br />_integer_ |  |  | Maximum: 65535 <br />Minimum: 0 <br /> |
| `exchange` <br />_string_ |  |  | MinLength: 1 <br /> |


#### NSRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ | Require a hostname (FQDN or relative), allow optional trailing dot, no underscores.<br /><br />Labels: 1-63 chars, alphanum with interior hyphens, total length &lt;=253. |  | MaxLength: 253 <br />MinLength: 1 <br />Pattern: `^([A-Za-z0-9](?:[A-Za-z0-9-]\{0,61\}[A-Za-z0-9])?)(?:\.([A-Za-z0-9](?:[A-Za-z0-9-]\{0,61\}[A-Za-z0-9])?))*\.?$` <br /> |


#### NameServerPolicy



NameServerPolicy specifies the policy for nameserver assignment.



_Appears in:_
- [DNSZoneClassSpec](#dnszoneclassspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `mode` <br />_[NameServerPolicyMode](#nameserverpolicymode)_ | Mode defines which policy to use. |  | Enum: [Static] <br /> |
| `static` <br />_[StaticNS](#staticns)_ | Static contains a static list of authoritative nameservers when Mode == "Static". |  |  |


#### NameServerPolicyMode

_Underlying type:_ _string_



_Validation:_
- Enum: [Static]

_Appears in:_
- [NameServerPolicy](#nameserverpolicy)

| Field | Description |
| `Static` |  |


#### PTRRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ |  |  |  |


#### RRType

_Underlying type:_ _string_



_Validation:_
- Enum: [A AAAA CNAME TXT MX SRV CAA NS SOA PTR TLSA HTTPS SVCB]

_Appears in:_
- [DNSRecordSetSpec](#dnsrecordsetspec)
- [DiscoveredRecordSet](#discoveredrecordset)

| Field | Description |
| `A` |  |
| `AAAA` |  |
| `CNAME` |  |
| `TXT` |  |
| `MX` |  |
| `SRV` |  |
| `CAA` |  |
| `NS` |  |
| `SOA` |  |
| `PTR` |  |
| `TLSA` |  |
| `HTTPS` |  |
| `SVCB` |  |


#### RecordEntry



RecordEntry represents one owner name and its values.



_Appears in:_
- [DNSRecordSetSpec](#dnsrecordsetspec)
- [DiscoveredRecordSet](#discoveredrecordset)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the owner name (relative to the zone or FQDN). |  | MinLength: 1 <br />Pattern: `^(@\|[A-Za-z0-9*._-]+)$` <br />Required: \{\} <br /> |
| `ttl` <br />_integer_ | TTL optionally overrides TTL for this owner/RRset. |  |  |
| `a` <br />_[ARecordSpec](#arecordspec)_ | Exactly one of the following type-specific fields should be set matching RecordType. |  |  |
| `aaaa` <br />_[AAAARecordSpec](#aaaarecordspec)_ |  |  |  |
| `cname` <br />_[CNAMERecordSpec](#cnamerecordspec)_ |  |  |  |
| `ns` <br />_[NSRecordSpec](#nsrecordspec)_ |  |  |  |
| `txt` <br />_[TXTRecordSpec](#txtrecordspec)_ |  |  |  |
| `soa` <br />_[SOARecordSpec](#soarecordspec)_ |  |  |  |
| `caa` <br />_[CAARecordSpec](#caarecordspec)_ |  |  |  |
| `mx` <br />_[MXRecordSpec](#mxrecordspec)_ |  |  |  |
| `srv` <br />_[SRVRecordSpec](#srvrecordspec)_ |  |  |  |
| `tlsa` <br />_[TLSARecordSpec](#tlsarecordspec)_ |  |  |  |
| `https` <br />_[HTTPSRecordSpec](#httpsrecordspec)_ |  |  |  |
| `svcb` <br />_[HTTPSRecordSpec](#httpsrecordspec)_ |  |  |  |
| `ptr` <br />_[PTRRecordSpec](#ptrrecordspec)_ |  |  |  |


#### RecordSetStatus







_Appears in:_
- [DNSRecordSetStatus](#dnsrecordsetstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the owner name this status pertains to. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions captures per-name readiness information such as RecordProgrammed. |  |  |


#### SOARecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `mname` <br />_string_ |  |  | MinLength: 1 <br /> |
| `rname` <br />_string_ |  |  | MinLength: 1 <br /> |
| `serial` <br />_integer_ |  |  |  |
| `refresh` <br />_integer_ |  |  |  |
| `retry` <br />_integer_ |  |  |  |
| `expire` <br />_integer_ |  |  |  |
| `ttl` <br />_integer_ |  |  |  |


#### SRVRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `priority` <br />_integer_ |  |  | Maximum: 65535 <br />Minimum: 0 <br /> |
| `weight` <br />_integer_ |  |  | Maximum: 65535 <br />Minimum: 0 <br /> |
| `port` <br />_integer_ |  |  | Maximum: 65535 <br />Minimum: 0 <br /> |
| `target` <br />_string_ |  |  | MinLength: 1 <br /> |


#### StaticNS



StaticNS lists static authoritative nameserver hostnames.



_Appears in:_
- [NameServerPolicy](#nameserverpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `servers` <br />_string array_ |  |  |  |


#### TLSARecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `usage` <br />_integer_ |  |  |  |
| `selector` <br />_integer_ |  |  |  |
| `matchingType` <br />_integer_ |  |  |  |
| `certData` <br />_string_ |  |  |  |


#### TXTRecordSpec







_Appears in:_
- [RecordEntry](#recordentry)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `content` <br />_string_ |  |  |  |


#### ZoneDefaults



ZoneDefaults holds optional default settings for zones.



_Appears in:_
- [DNSZoneClassSpec](#dnszoneclassspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `defaultTTL` <br />_integer_ | DefaultTTL is the default TTL applied to records when not otherwise specified. |  |  |



## iam.miloapis.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the iam v1alpha1 API group

### Resource Types
- [Group](#group)
- [GroupList](#grouplist)
- [GroupMembership](#groupmembership)
- [GroupMembershipList](#groupmembershiplist)
- [MachineAccount](#machineaccount)
- [MachineAccountKey](#machineaccountkey)
- [MachineAccountKeyList](#machineaccountkeylist)
- [MachineAccountList](#machineaccountlist)
- [PlatformAccessApproval](#platformaccessapproval)
- [PlatformAccessApprovalList](#platformaccessapprovallist)
- [PlatformAccessRejection](#platformaccessrejection)
- [PlatformAccessRejectionList](#platformaccessrejectionlist)
- [PlatformInvitation](#platforminvitation)
- [PlatformInvitationList](#platforminvitationlist)
- [PolicyBinding](#policybinding)
- [PolicyBindingList](#policybindinglist)
- [UserDeactivation](#userdeactivation)
- [UserDeactivationList](#userdeactivationlist)
- [UserInvitation](#userinvitation)
- [UserInvitationList](#userinvitationlist)



#### AuthProvider

_Underlying type:_ _string_

AuthProvider represents an external identity provider used for user authentication.

_Validation:_
- Enum: [github google]

_Appears in:_
- [UserStatus](#userstatus)

| Field | Description |
| `github` |  |
| `google` |  |


#### Group



Group is the Schema for the groups API



_Appears in:_
- [GroupList](#grouplist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Group` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `status` <br />_[GroupStatus](#groupstatus)_ |  |  |  |


#### GroupList



GroupList contains a list of Group





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `GroupList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Group](#group) array_ |  |  |  |


#### GroupMembership



GroupMembership is the Schema for the groupmemberships API



_Appears in:_
- [GroupMembershipList](#groupmembershiplist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `GroupMembership` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[GroupMembershipSpec](#groupmembershipspec)_ |  |  |  |
| `status` <br />_[GroupMembershipStatus](#groupmembershipstatus)_ |  |  |  |


#### GroupMembershipList



GroupMembershipList contains a list of GroupMembership





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `GroupMembershipList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[GroupMembership](#groupmembership) array_ |  |  |  |


#### GroupMembershipSpec



GroupMembershipSpec defines the desired state of GroupMembership



_Appears in:_
- [GroupMembership](#groupmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `userRef` <br />_[UserReference](#userreference)_ | UserRef is a reference to the User that is a member of the Group.<br /><br />User is a cluster-scoped resource. |  | Required: \{\} <br /> |
| `groupRef` <br />_[GroupReference](#groupreference)_ | GroupRef is a reference to the Group.<br /><br />Group is a namespaced resource. |  | Required: \{\} <br /> |


#### GroupMembershipStatus



GroupMembershipStatus defines the observed state of GroupMembership



_Appears in:_
- [GroupMembership](#groupmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state. |  |  |


#### GroupReference



GroupReference contains information that points to the Group being referenced.
Group is a namespaced resource.



_Appears in:_
- [GroupMembershipSpec](#groupmembershipspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the Group being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the referenced Group. |  | Required: \{\} <br /> |


#### GroupStatus



GroupStatus defines the observed state of Group



_Appears in:_
- [Group](#group)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state. |  |  |


#### MachineAccount



MachineAccount is the Schema for the machine accounts API



_Appears in:_
- [MachineAccountList](#machineaccountlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `MachineAccount` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[MachineAccountSpec](#machineaccountspec)_ |  |  |  |
| `status` <br />_[MachineAccountStatus](#machineaccountstatus)_ |  |  |  |


#### MachineAccountKey



MachineAccountKey is the Schema for the machineaccountkeys API



_Appears in:_
- [MachineAccountKeyList](#machineaccountkeylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `MachineAccountKey` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[MachineAccountKeySpec](#machineaccountkeyspec)_ |  |  |  |
| `status` <br />_[MachineAccountKeyStatus](#machineaccountkeystatus)_ |  |  |  |


#### MachineAccountKeyList



MachineAccountKeyList contains a list of MachineAccountKey





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `MachineAccountKeyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[MachineAccountKey](#machineaccountkey) array_ |  |  |  |


#### MachineAccountKeySpec



MachineAccountKeySpec defines the desired state of MachineAccountKey



_Appears in:_
- [MachineAccountKey](#machineaccountkey)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `machineAccountName` <br />_string_ | MachineAccountName is the name of the MachineAccount that owns this key. |  | Required: \{\} <br /> |
| `expirationDate` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | ExpirationDate is the date and time when the MachineAccountKey will expire.<br /><br />If not specified, the MachineAccountKey will never expire. |  | Optional: \{\} <br /> |
| `publicKey` <br />_string_ | PublicKey is the public key of the MachineAccountKey.<br /><br />If not specified, the MachineAccountKey will be created with an auto-generated public key. |  | Optional: \{\} <br /> |


#### MachineAccountKeyStatus



MachineAccountKeyStatus defines the observed state of MachineAccountKey



_Appears in:_
- [MachineAccountKey](#machineaccountkey)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `authProviderKeyId` <br />_string_ | AuthProviderKeyID is the unique identifier for the key in the auth provider.<br /><br />This field is populated by the controller after the key is created in the auth provider.<br /><br />For example, when using Zitadel, a typical value might be: "326102453042806786" |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the MachineAccountKey. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |


#### MachineAccountList



MachineAccountList contains a list of MachineAccount





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `MachineAccountList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[MachineAccount](#machineaccount) array_ |  |  |  |


#### MachineAccountSpec



MachineAccountSpec defines the desired state of MachineAccount



_Appears in:_
- [MachineAccount](#machineaccount)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `state` <br />_string_ | The state of the machine account. This state can be safely changed as needed.<br /><br />States:<br />  - Active: The machine account can be used to authenticate.<br />  - Inactive: The machine account is prohibited to be used to authenticate, and revokes all existing sessions. | Active | Enum: [Active Inactive] <br />Optional: \{\} <br /> |


#### MachineAccountStatus



MachineAccountStatus defines the observed state of MachineAccount



_Appears in:_
- [MachineAccount](#machineaccount)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ | The computed email of the machine account following the pattern:<br />\{metadata.name\}@\{metadata.namespace\}.\{project.metadata.name\}.\{global-suffix\} |  |  |
| `state` <br />_string_ | State represents the current activation state of the machine account from the auth provider.<br /><br />This field tracks the state from the previous generation and is updated when state changes<br />are successfully propagated to the auth provider. It helps optimize performance by only<br />updating the auth provider when a state change is detected. |  | Enum: [Active Inactive] <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the MachineAccount. |  |  |


#### ParentResourceRef



ParentResourceRef defines the reference to a parent resource



_Appears in:_
- [ProtectedResourceSpec](#protectedresourcespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup is the group for the resource being referenced.<br /><br />If APIGroup is not specified, the specified Kind must be in the core API group.<br /><br />For any other third-party types, APIGroup is required. |  | Optional: \{\} <br /> |
| `kind` <br />_string_ | Kind is the type of resource being referenced. |  | Required: \{\} <br /> |


#### PlatformAccessApproval



PlatformAccessApproval is the Schema for the platformaccessapprovals API.
It represents a platform access approval for a user. Once the platform access approval is created, an email will be sent to the user.



_Appears in:_
- [PlatformAccessApprovalList](#platformaccessapprovallist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformAccessApproval` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[PlatformAccessApprovalSpec](#platformaccessapprovalspec)_ |  |  | Type: object <br /> |


#### PlatformAccessApprovalList



PlatformAccessApprovalList contains a list of PlatformAccessApproval.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformAccessApprovalList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[PlatformAccessApproval](#platformaccessapproval) array_ |  |  |  |


#### PlatformAccessApprovalSpec



PlatformAccessApprovalSpec defines the desired state of PlatformAccessApproval.

_Validation:_
- Type: object

_Appears in:_
- [PlatformAccessApproval](#platformaccessapproval)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subjectRef` <br />_[SubjectReference](#subjectreference)_ | SubjectRef is the reference to the subject being approved. |  | Required: \{\} <br /> |
| `approverRef` <br />_[UserReference](#userreference)_ | ApproverRef is the reference to the approver being approved.<br /><br />If not specified, the approval was made by the system. |  | Optional: \{\} <br /> |


#### PlatformAccessRejection



PlatformAccessRejection is the Schema for the platformaccessrejections API.
It represents a formal denial of platform access for a user. Once the rejection is created, a notification can be sent to the user.



_Appears in:_
- [PlatformAccessRejectionList](#platformaccessrejectionlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformAccessRejection` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[PlatformAccessRejectionSpec](#platformaccessrejectionspec)_ |  |  | Type: object <br /> |


#### PlatformAccessRejectionList



PlatformAccessRejectionList contains a list of PlatformAccessRejection.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformAccessRejectionList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[PlatformAccessRejection](#platformaccessrejection) array_ |  |  |  |


#### PlatformAccessRejectionSpec



PlatformAccessRejectionSpec defines the desired state of PlatformAccessRejection.

_Validation:_
- Type: object

_Appears in:_
- [PlatformAccessRejection](#platformaccessrejection)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subjectRef` <br />_[UserReference](#userreference)_ | UserRef is the reference to the user being rejected. |  | Required: \{\} <br /> |
| `reason` <br />_string_ | Reason is the reason for the rejection. |  | Required: \{\} <br /> |
| `rejecterRef` <br />_[UserReference](#userreference)_ | RejecterRef is the reference to the actor who issued the rejection.<br /><br />If not specified, the rejection was made by the system. |  | Optional: \{\} <br /> |


#### PlatformInvitation



PlatformInvitation is the Schema for the platforminvitations API
It represents a platform invitation for a user. Once the platform invitation is created, an email will be sent to the user to invite them to the platform.
The invited user will have access to the platform after they create an account using the asociated email.
It represents a platform invitation for a user.



_Appears in:_
- [PlatformInvitationList](#platforminvitationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformInvitation` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[PlatformInvitationSpec](#platforminvitationspec)_ |  |  | Type: object <br /> |
| `status` <br />_[PlatformInvitationStatus](#platforminvitationstatus)_ |  |  | Type: object <br /> |


#### PlatformInvitationEmailStatus







_Appears in:_
- [PlatformInvitationStatus](#platforminvitationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | The name of the email resource that was created for the platform invitation. |  | Optional: \{\} <br /> |
| `namespace` <br />_string_ | The namespace of the email resource that was created for the platform invitation. |  | Optional: \{\} <br /> |


#### PlatformInvitationList



PlatformInvitationList contains a list of PlatformInvitation.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PlatformInvitationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[PlatformInvitation](#platforminvitation) array_ |  |  |  |


#### PlatformInvitationSpec



PlatformInvitationSpec defines the desired state of PlatformInvitation.

_Validation:_
- Type: object

_Appears in:_
- [PlatformInvitation](#platforminvitation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ | The email of the user being invited. |  | Required: \{\} <br /> |
| `givenName` <br />_string_ | The given name of the user being invited. |  | Optional: \{\} <br /> |
| `familyName` <br />_string_ | The family name of the user being invited. |  | Optional: \{\} <br /> |
| `scheduleAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | The schedule at which the platform invitation will be sent.<br /><br />It can only be updated before the platform invitation is sent. |  | Optional: \{\} <br /> |
| `invitedBy` <br />_[UserReference](#userreference)_ | The user who created the platform invitation. A mutation webhook will default this field to the user who made the request. |  |  |


#### PlatformInvitationStatus



PlatformInvitationStatus defines the observed state of PlatformInvitation.

_Validation:_
- Type: object

_Appears in:_
- [PlatformInvitation](#platforminvitation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the PlatformInvitation. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Platform invitation reconciliation is pending reason:ReconcilePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `email` <br />_[PlatformInvitationEmailStatus](#platforminvitationemailstatus)_ | The email resource that was created for the platform invitation. |  | Optional: \{\} <br /> |


#### PolicyBinding



PolicyBinding is the Schema for the policybindings API



_Appears in:_
- [PolicyBindingList](#policybindinglist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PolicyBinding` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[PolicyBindingSpec](#policybindingspec)_ |  |  |  |
| `status` <br />_[PolicyBindingStatus](#policybindingstatus)_ |  |  |  |


#### PolicyBindingList



PolicyBindingList contains a list of PolicyBinding





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `PolicyBindingList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[PolicyBinding](#policybinding) array_ |  |  |  |


#### PolicyBindingSpec



PolicyBindingSpec defines the desired state of PolicyBinding



_Appears in:_
- [PolicyBinding](#policybinding)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `roleRef` <br />_[RoleReference](#rolereference)_ | RoleRef is a reference to the Role that is being bound.<br /><br />This can be a reference to a Role custom resource. |  | Required: \{\} <br /> |
| `subjects` <br />_[Subject](#subject) array_ | Subjects holds references to the objects the role applies to. |  | MinItems: 1 <br />Required: \{\} <br /> |
| `resourceSelector` <br />_[ResourceSelector](#resourceselector)_ | ResourceSelector defines which resources the subjects in the policy binding<br />should have the role applied to. Options within this struct are mutually<br />exclusive. |  | Required: \{\} <br /> |


#### PolicyBindingStatus



PolicyBindingStatus defines the observed state of PolicyBinding



_Appears in:_
- [PolicyBinding](#policybinding)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed for this PolicyBinding by the controller. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the PolicyBinding. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |


#### ProtectedResource



ProtectedResource is the Schema for the protectedresources API



_Appears in:_
- [ProtectedResourceList](#protectedresourcelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ProtectedResourceSpec](#protectedresourcespec)_ |  |  |  |
| `status` <br />_[ProtectedResourceStatus](#protectedresourcestatus)_ |  |  |  |




#### ProtectedResourceSpec



ProtectedResourceSpec defines the desired state of ProtectedResource



_Appears in:_
- [ProtectedResource](#protectedresource)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `serviceRef` <br />_[ServiceReference](#servicereference)_ | ServiceRef references the service definition this protected resource belongs to. |  | Required: \{\} <br /> |
| `kind` <br />_string_ | The kind of the resource.<br /><br />This will be in the format `Workload`. |  | Required: \{\} <br /> |
| `singular` <br />_string_ | The singular form for the resource type, e.g. 'workload'. Must follow<br />camelCase format. |  | Required: \{\} <br /> |
| `plural` <br />_string_ | The plural form for the resource type, e.g. 'workloads'. Must follow<br />camelCase format. |  | Required: \{\} <br /> |
| `parentResources` <br />_[ParentResourceRef](#parentresourceref) array_ | A list of resources that are registered with the platform that may be a<br />parent to the resource. Permissions may be bound to a parent resource so<br />they can be inherited down the resource hierarchy. |  | Optional: \{\} <br /> |
| `permissions` <br />_string array_ | A list of permissions that are associated with the resource. |  | Required: \{\} <br /> |


#### ProtectedResourceStatus



ProtectedResourceStatus defines the observed state of ProtectedResource



_Appears in:_
- [ProtectedResource](#protectedresource)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the ProtectedResource. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed for this ProtectedResource. It corresponds to the<br />ProtectedResource's generation, which is updated on mutation by the API Server. |  | Optional: \{\} <br /> |


#### RegistrationApprovalState

_Underlying type:_ _string_





_Appears in:_
- [UserStatus](#userstatus)

| Field | Description |
| `Pending` |  |
| `Approved` |  |
| `Rejected` |  |


#### ResourceKind



ResourceKind contains enough information to identify a resource type.



_Appears in:_
- [ResourceSelector](#resourceselector)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup is the group for the resource type being referenced. If APIGroup<br />is not specified, the specified Kind must be in the core API group. |  | Optional: \{\} <br /> |
| `kind` <br />_string_ | Kind is the type of resource being referenced. |  | Required: \{\} <br /> |


#### ResourceReference



ResourceReference contains enough information to let you identify a specific
API resource instance.



_Appears in:_
- [ResourceSelector](#resourceselector)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup is the group for the resource being referenced.<br /><br />If APIGroup is not specified, the specified Kind must be in the core API group.<br /><br />For any other third-party types, APIGroup is required. |  | Optional: \{\} <br /> |
| `kind` <br />_string_ | Kind is the type of resource being referenced. |  | Required: \{\} <br /> |
| `name` <br />_string_ | Name is the name of resource being referenced. |  | Required: \{\} <br /> |
| `uid` <br />_string_ | UID is the unique identifier of the resource being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace is the namespace of resource being referenced.<br /><br />Required for namespace-scoped resources. Omitted for cluster-scoped resources. |  | Optional: \{\} <br /> |


#### ResourceSelector



ResourceSelector defines which resources the policy binding applies to.
Either resourceRef or resourceKind must be specified, but not both.



_Appears in:_
- [PolicyBindingSpec](#policybindingspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resourceRef` <br />_[ResourceReference](#resourcereference)_ | ResourceRef provides a reference to a specific resource instance.<br /><br />Mutually exclusive with resourceKind. |  | Optional: \{\} <br /> |
| `resourceKind` <br />_[ResourceKind](#resourcekind)_ | ResourceKind specifies that the policy binding should apply to all resources of a specific kind.<br /><br />Mutually exclusive with resourceRef. |  | Optional: \{\} <br /> |


#### Role



Role is the Schema for the roles API



_Appears in:_
- [RoleList](#rolelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[RoleSpec](#rolespec)_ |  |  |  |
| `status` <br />_[RoleStatus](#rolestatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] \} |  |




#### RoleReference



RoleReference contains information that points to the Role being used



_Appears in:_
- [PolicyBindingSpec](#policybindingspec)
- [UserInvitationSpec](#userinvitationspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of resource being referenced |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the referenced Role. If empty, it is assumed to be in the PolicyBinding's namespace. |  | Optional: \{\} <br /> |


#### RoleSpec



RoleSpec defines the desired state of Role



_Appears in:_
- [Role](#role)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `includedPermissions` <br />_string array_ | The names of the permissions this role grants when bound in an IAM policy.<br /><br />All permissions must be in the format: `\{service\}.\{resource\}.\{action\}`<br />(e.g. compute.workloads.create). |  | Optional: \{\} <br /> |
| `launchStage` <br />_string_ | Defines the launch stage of the IAM Role. Must be one of: Early Access,<br />Alpha, Beta, Stable, Deprecated. |  | Required: \{\} <br /> |
| `inheritedRoles` <br />_[ScopedRoleReference](#scopedrolereference) array_ | The list of roles from which this role inherits permissions.<br /><br />Each entry must be a valid role resource name. |  | Optional: \{\} <br /> |


#### RoleStatus



RoleStatus defines the observed state of Role



_Appears in:_
- [Role](#role)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `parent` <br />_string_ | The resource name of the parent the role was created under. |  | Optional: \{\} <br /> |
| `effectivePermissions` <br />_string array_ | EffectivePermissions is the complete flattened list of all permissions<br />granted by this role, including permissions from inheritedRoles and<br />directly specified includedPermissions. This is computed by the controller<br />and provides a single source of truth for all permissions this role grants. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the Role. |  | Optional: \{\} <br /> |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed by the controller. |  |  |


#### ScopedRoleReference



ScopedRoleReference defines a reference to another Role, scoped by namespace.
This is used for purposes like role inheritance where a simple name and namespace
is sufficient to identify the target role.



_Appears in:_
- [RoleSpec](#rolespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name of the referenced Role. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the referenced Role.<br /><br />If not specified, it defaults to the namespace of the resource containing this reference. |  | Optional: \{\} <br /> |


#### ServiceReference



ServiceReference holds a reference to a service definition.



_Appears in:_
- [ProtectedResourceSpec](#protectedresourcespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the resource name of the service definition. |  | Required: \{\} <br /> |


#### Subject



Subject contains a reference to the object or user identities a role binding applies to.
This can be a User or Group.



_Appears in:_
- [PolicyBindingSpec](#policybindingspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `kind` <br />_string_ | Kind of object being referenced. Values defined in Kind constants. |  | Enum: [User Group] <br />Required: \{\} <br /> |
| `name` <br />_string_ | Name of the object being referenced. A special group name of<br />"system:authenticated-users" can be used to refer to all authenticated<br />users. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the referenced object. If DNE, then for an SA it refers to the PolicyBinding resource's namespace.<br /><br />For a User or Group, it is ignored. |  | Optional: \{\} <br /> |
| `uid` <br />_string_ | UID of the referenced object. Optional for system groups (groups with names starting with "system:"). |  | Optional: \{\} <br /> |


#### SubjectReference







_Appears in:_
- [PlatformAccessApprovalSpec](#platformaccessapprovalspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ | Email is the email of the user being approved.<br /><br />Use Email to approve an email address that is not associated with a created user. (e.g. when using PlatformInvitation)<br />UserRef and Email are mutually exclusive. Exactly one of them must be specified. |  | Optional: \{\} <br /> |
| `userRef` <br />_[UserReference](#userreference)_ | UserRef is the reference to the user being approved.<br /><br />UserRef and Email are mutually exclusive. Exactly one of them must be specified. |  | Optional: \{\} <br /> |


#### User



User is the Schema for the users API



_Appears in:_
- [UserList](#userlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[UserSpec](#userspec)_ |  |  |  |
| `status` <br />_[UserStatus](#userstatus)_ |  |  |  |


#### UserDeactivation



UserDeactivation is the Schema for the userdeactivations API



_Appears in:_
- [UserDeactivationList](#userdeactivationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `UserDeactivation` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[UserDeactivationSpec](#userdeactivationspec)_ |  |  |  |
| `status` <br />_[UserDeactivationStatus](#userdeactivationstatus)_ |  |  |  |


#### UserDeactivationList



UserDeactivationList contains a list of UserDeactivation





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `UserDeactivationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[UserDeactivation](#userdeactivation) array_ |  |  |  |


#### UserDeactivationSpec



UserDeactivationSpec defines the desired state of UserDeactivation



_Appears in:_
- [UserDeactivation](#userdeactivation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `userRef` <br />_[UserReference](#userreference)_ | UserRef is a reference to the User being deactivated.<br /><br />User is a cluster-scoped resource. |  | Required: \{\} <br /> |
| `reason` <br />_string_ | Reason is the internal reason for deactivation. |  | Required: \{\} <br /> |
| `description` <br />_string_ | Description provides detailed internal description for the deactivation. |  | Optional: \{\} <br /> |
| `deactivatedBy` <br />_string_ | DeactivatedBy indicates who initiated the deactivation. |  | Required: \{\} <br /> |


#### UserDeactivationStatus



UserDeactivationStatus defines the observed state of UserDeactivation



_Appears in:_
- [UserDeactivation](#userdeactivation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |


#### UserInvitation



UserInvitation is the Schema for the userinvitations API



_Appears in:_
- [UserInvitationList](#userinvitationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `UserInvitation` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[UserInvitationSpec](#userinvitationspec)_ |  |  |  |
| `status` <br />_[UserInvitationStatus](#userinvitationstatus)_ |  |  |  |




#### UserInvitationInviteeUserStatus



UserInvitationInviteeUserStatus contains information about the invitee user in the invitation.



_Appears in:_
- [UserInvitationStatus](#userinvitationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the invitee user in the invitation.<br /><br />Name is a cluster-scoped resource, so Namespace is not needed. |  | Required: \{\} <br /> |


#### UserInvitationList



UserInvitationList contains a list of UserInvitation





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `iam.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `UserInvitationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[UserInvitation](#userinvitation) array_ |  |  |  |


#### UserInvitationOrganizationStatus



UserInvitationOrganizationStatus contains information about the organization in the invitation.



_Appears in:_
- [UserInvitationStatus](#userinvitationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `displayName` <br />_string_ | DisplayName is the display name of the organization in the invitation. |  | Optional: \{\} <br /> |




#### UserInvitationSpec



UserInvitationSpec defines the desired state of UserInvitation



_Appears in:_
- [UserInvitation](#userinvitation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `organizationRef` <br />_[OrganizationReference](#organizationreference)_ | OrganizationRef is a reference to the Organization that the user is invoted to. |  | Required: \{\} <br /> |
| `email` <br />_string_ | The email of the user being invited. |  | Required: \{\} <br /> |
| `givenName` <br />_string_ | The first name of the user being invited. |  | Optional: \{\} <br /> |
| `familyName` <br />_string_ | The last name of the user being invited. |  | Optional: \{\} <br /> |
| `roles` <br />_[RoleReference](#rolereference) array_ | The roles that will be assigned to the user when they accept the invitation. |  | MaxItems: 100 <br />MinItems: 1 <br />Required: \{\} <br /> |
| `invitedBy` <br />_[UserReference](#userreference)_ | InvitedBy is the user who invited the user. A mutation webhook will default this field to the user who made the request. |  | Optional: \{\} <br /> |
| `expirationDate` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | ExpirationDate is the date and time when the UserInvitation will expire.<br /><br />If not specified, the UserInvitation will never expire. |  | Optional: \{\} <br /> |
| `state` <br />_[UserInvitationStateType](#userinvitationstatetype)_ | State is the state of the UserInvitation. In order to accept the invitation, the invited user<br />must set the state to Accepted. |  | Enum: [Pending Accepted Declined] <br />Required: \{\} <br /> |


#### UserInvitationStateType

_Underlying type:_ _string_





_Appears in:_
- [UserInvitationSpec](#userinvitationspec)

| Field | Description |
| `Pending` |  |
| `Accepted` |  |
| `Declined` |  |


#### UserInvitationStatus



UserInvitationStatus defines the observed state of UserInvitation



_Appears in:_
- [UserInvitation](#userinvitation)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the UserInvitation. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Unknown]] | Optional: \{\} <br /> |
| `organization` <br />_[UserInvitationOrganizationStatus](#userinvitationorganizationstatus)_ | Organization contains information about the organization in the invitation. |  | Optional: \{\} <br /> |
| `inviterUser` <br />_[UserInvitationUserStatus](#userinvitationuserstatus)_ | InviterUser contains information about the user who invited the user in the invitation. |  | Optional: \{\} <br /> |
| `inviteeUser` <br />_[UserInvitationInviteeUserStatus](#userinvitationinviteeuserstatus)_ | InviteeUser contains information about the invitee user in the invitation.<br /><br />This value may be nil if the invitee user has not been created yet. |  | Optional: \{\} <br /> |


#### UserInvitationUserStatus



UserInvitationInviterUserStatus contains information about the user who invited the user in the invitation.



_Appears in:_
- [UserInvitationStatus](#userinvitationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `displayName` <br />_string_ | DisplayName is the display name of the user who invited the user in the invitation. |  | Optional: \{\} <br /> |
| `emailAddress` <br />_string_ | EmailAddress is the email address of the user who invited the user in the invitation. |  | Optional: \{\} <br /> |




#### UserPreference



UserPreference is the Schema for the userpreferences API



_Appears in:_
- [UserPreferenceList](#userpreferencelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[UserPreferenceSpec](#userpreferencespec)_ |  |  |  |
| `status` <br />_[UserPreferenceStatus](#userpreferencestatus)_ |  |  |  |




#### UserPreferenceSpec



UserPreferenceSpec defines the desired state of UserPreference



_Appears in:_
- [UserPreference](#userpreference)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `userRef` <br />_[UserReference](#userreference)_ | Reference to the user these preferences belong to. |  | Required: \{\} <br /> |
| `theme` <br />_string_ | The user's theme preference. | system | Enum: [light dark system] <br />Optional: \{\} <br /> |


#### UserPreferenceStatus



UserPreferenceStatus defines the observed state of UserPreference



_Appears in:_
- [UserPreference](#userpreference)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the UserPreference. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |


#### UserReference



UserReference contains information that points to the User being referenced.
User is a cluster-scoped resource, so Namespace is not needed.



_Appears in:_
- [GroupMembershipSpec](#groupmembershipspec)
- [NoteSpec](#notespec)
- [PlatformAccessApprovalSpec](#platformaccessapprovalspec)
- [PlatformAccessRejectionSpec](#platformaccessrejectionspec)
- [PlatformInvitationSpec](#platforminvitationspec)
- [SubjectReference](#subjectreference)
- [UserDeactivationSpec](#userdeactivationspec)
- [UserInvitationSpec](#userinvitationspec)
- [UserPreferenceSpec](#userpreferencespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the User being referenced. |  | Required: \{\} <br /> |


#### UserSpec



UserSpec defines the desired state of User



_Appears in:_
- [User](#user)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ | The email of the user. |  | Required: \{\} <br /> |
| `givenName` <br />_string_ | The first name of the user. |  | Optional: \{\} <br /> |
| `familyName` <br />_string_ | The last name of the user. |  | Optional: \{\} <br /> |


#### UserState

_Underlying type:_ _string_





_Appears in:_
- [UserStatus](#userstatus)

| Field | Description |
| `Active` |  |
| `Inactive` |  |


#### UserStatus



UserStatus defines the observed state of User



_Appears in:_
- [User](#user)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions provide conditions that represent the current status of the User. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `state` <br />_[UserState](#userstate)_ | State represents the current activation state of the user account from the<br />auth provider. This field is managed exclusively by the UserDeactivation CRD<br />and cannot be changed directly by the user. When a UserDeactivation resource<br />is created for the user, the user is deactivated in the auth provider; when<br />the UserDeactivation is deleted, the user is reactivated.<br /><br />States:<br />  - Active: The user can be used to authenticate.<br />  - Inactive: The user is prohibited to be used to authenticate, and revokes all existing sessions. | Active | Enum: [Active Inactive] <br /> |
| `registrationApproval` <br />_[RegistrationApprovalState](#registrationapprovalstate)_ | RegistrationApproval represents the administrator’s decision on the user’s registration request.<br /><br />States:<br />  - Pending:  The user is awaiting review by an administrator.<br />  - Approved: The user registration has been approved.<br />  - Rejected: The user registration has been rejected.<br /><br />The User resource is always created regardless of this value, but the<br />ability for the person to sign into the platform and access resources is<br />governed by this status: only *Approved* users are granted access, while<br />*Pending* and *Rejected* users are prevented for interacting with resources. |  | Enum: [Pending Approved Rejected] <br /> |
| `lastLoginProvider` <br />_[AuthProvider](#authprovider)_ | LastLoginProvider records the identity provider that was most recently used by the<br />user to log in (e.g., "github" or "google"). This field is set by the auth provider<br />based on authentication events. |  | Enum: [github google] <br />Optional: \{\} <br /> |
| `avatarUrl` <br />_string_ | AvatarURL points to the avatar image associated with the user. This value is<br />populated by the auth provider or any service that provides a user avatar URL. |  | Format: uri <br />Optional: \{\} <br /> |





## identity.miloapis.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the identity.miloapis.com group

This package defines virtual types served by the Milo API server. These types are
backed by provider-specific implementations and are not persisted in etcd.

















## infrastructure.miloapis.com/v1alpha1


### Resource Types
- [ProjectControlPlane](#projectcontrolplane)
- [ProjectControlPlaneList](#projectcontrolplanelist)



#### ProjectControlPlane



ProjectControlPlane is the Schema for the projectcontrolplanes API.



_Appears in:_
- [ProjectControlPlaneList](#projectcontrolplanelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `infrastructure.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ProjectControlPlane` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ProjectControlPlaneSpec](#projectcontrolplanespec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ProjectControlPlaneStatus](#projectcontrolplanestatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Creating a new control plane for the project reason:Creating status:False type:ControlPlaneReady]] \} |  |


#### ProjectControlPlaneList



ProjectControlPlaneList contains a list of ProjectControlPlane.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `infrastructure.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ProjectControlPlaneList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ProjectControlPlane](#projectcontrolplane) array_ |  |  |  |


#### ProjectControlPlaneSpec



ProjectControlPlaneSpec defines the desired state of ProjectControlPlane.



_Appears in:_
- [ProjectControlPlane](#projectcontrolplane)



#### ProjectControlPlaneStatus



ProjectControlPlaneStatus defines the observed state of ProjectControlPlane.



_Appears in:_
- [ProjectControlPlane](#projectcontrolplane)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a project control plane's current state.<br /><br />Known condition types are: "Ready" |  |  |



## networking.datumapis.com/v1alpha

Package v1alpha contains API Schema definitions for the networking v1alpha API group.

### Resource Types
- [Domain](#domain)
- [DomainList](#domainlist)
- [HTTPProxy](#httpproxy)
- [HTTPProxyList](#httpproxylist)
- [Location](#location)
- [LocationList](#locationlist)
- [Network](#network)
- [NetworkBinding](#networkbinding)
- [NetworkBindingList](#networkbindinglist)
- [NetworkContext](#networkcontext)
- [NetworkContextList](#networkcontextlist)
- [NetworkList](#networklist)
- [NetworkPolicy](#networkpolicy)
- [NetworkPolicyList](#networkpolicylist)
- [Subnet](#subnet)
- [SubnetClaim](#subnetclaim)
- [SubnetClaimList](#subnetclaimlist)
- [SubnetList](#subnetlist)
- [TrafficProtectionPolicy](#trafficprotectionpolicy)
- [TrafficProtectionPolicyList](#trafficprotectionpolicylist)



#### AbuseContact







_Appears in:_
- [Registration](#registration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ |  |  |  |
| `phone` <br />_string_ |  |  |  |


#### Contact







_Appears in:_
- [ContactSet](#contactset)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `organization` <br />_string_ |  |  |  |
| `email` <br />_string_ |  |  |  |
| `phone` <br />_string_ |  |  |  |


#### ContactSet







_Appears in:_
- [Registration](#registration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `registrant` <br />_[Contact](#contact)_ |  |  |  |
| `admin` <br />_[Contact](#contact)_ |  |  |  |
| `tech` <br />_[Contact](#contact)_ |  |  |  |


#### DNSSECInfo







_Appears in:_
- [Registration](#registration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `enabled` <br />_boolean_ |  |  |  |
| `ds` <br />_[DSRecord](#dsrecord) array_ |  |  |  |


#### DNSVerificationRecord



DNSVerificationRecord represents a DNS record required for verification



_Appears in:_
- [DomainVerificationStatus](#domainverificationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ |  |  |  |
| `type` <br />_string_ |  |  |  |
| `content` <br />_string_ |  |  |  |


#### DSRecord







_Appears in:_
- [DNSSECInfo](#dnssecinfo)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `keyTag` <br />_integer_ |  |  |  |
| `algorithm` <br />_integer_ |  |  |  |
| `digestType` <br />_integer_ |  |  |  |
| `digest` <br />_string_ |  |  |  |


#### Domain



Domain represents a domain name in the Datum system



_Appears in:_
- [DomainList](#domainlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `Domain` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[DomainSpec](#domainspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[DomainStatus](#domainstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Verified] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:VerifiedDNS] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:VerifiedHTTP]] \} |  |


#### DomainList



DomainList contains a list of Domain





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `DomainList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Domain](#domain) array_ |  |  |  |


#### DomainSpec



DomainSpec defines the desired state of Domain



_Appears in:_
- [Domain](#domain)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `domainName` <br />_string_ | DomainName is the fully qualified domain name (FQDN) to be managed |  | MaxLength: 253 <br />MinLength: 1 <br />Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$` <br />Required: \{\} <br /> |
| `desiredRegistrationRefreshAttempt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | DesiredRegistrationRefreshAttempt is the desired time of the next registration refresh attempt. |  | Optional: \{\} <br /> |


#### DomainStatus



DomainStatus defines the observed state of Domain



_Appears in:_
- [Domain](#domain)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `verification` <br />_[DomainVerificationStatus](#domainverificationstatus)_ |  |  |  |
| `registration` <br />_[Registration](#registration)_ |  |  |  |
| `nameservers` <br />_Nameserver array_ | Nameservers lists the authoritative NS for the *effective* domain name:<br />- If Apex == true: taken from RDAP for the registered domain (eTLD+1)<br />- If Apex == false: taken from DNS delegation for the subdomain; falls back to apex NS if no cut |  |  |
| `apex` <br />_boolean_ | Apex is true when spec.domainName is the registered domain (eTLD+1). |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ |  |  |  |


#### DomainVerificationStatus



DomainVerificationStatus represents the verification status of a domain



_Appears in:_
- [DomainStatus](#domainstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `dnsRecord` <br />_[DNSVerificationRecord](#dnsverificationrecord)_ |  |  |  |
| `httpToken` <br />_[HTTPVerificationToken](#httpverificationtoken)_ |  |  |  |
| `nextVerificationAttempt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ |  |  |  |


#### GCPLocationProvider







_Appears in:_
- [LocationProvider](#locationprovider)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `projectId` <br />_string_ | The GCP project servicing the location<br />For locations with the class of `datum-managed`, a service account will be<br />required for each unique GCP project ID across all locations registered in a<br />namespace. |  | Required: \{\} <br /> |
| `region` <br />_string_ | The GCP region servicing the location |  | Required: \{\} <br /> |
| `zone` <br />_string_ | The GCP zone servicing the location |  | Required: \{\} <br /> |


#### HTTPProxy



An HTTPProxy builds on top of Gateway API resources to provide a more convenient
method to manage simple reverse proxy use cases.



_Appears in:_
- [HTTPProxyList](#httpproxylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `HTTPProxy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[HTTPProxySpec](#httpproxyspec)_ | Spec defines the desired state of an HTTPProxy. |  | Required: \{\} <br /> |
| `status` <br />_[HTTPProxyStatus](#httpproxystatus)_ | Status defines the current state of an HTTPProxy. | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Accepted] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Programmed]] \} |  |


#### HTTPProxyList



HTTPProxyList contains a list of HTTPProxy.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `HTTPProxyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[HTTPProxy](#httpproxy) array_ |  |  |  |


#### HTTPProxyRule



HTTPProxyRule defines semantics for matching an HTTP request based on
conditions (matches), processing it (filters), and forwarding the request to
backends.



_Appears in:_
- [HTTPProxySpec](#httpproxyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_[SectionName](#sectionname)_ | Name is the name of the route rule. This name MUST be unique within a Route<br />if it is set. |  |  |
| `matches` <br />_HTTPRouteMatch array_ | Matches define conditions used for matching the rule against incoming<br />HTTP requests. Each match is independent, i.e. this rule will be matched<br />if **any** one of the matches is satisfied.<br /><br />See documentation for the `matches` field in the `HTTPRouteRule` type at<br />https://gateway-api.sigs.k8s.io/reference/spec/#httprouterule | [map[path:map[type:PathPrefix value:/]]] | MaxItems: 64 <br />MinItems: 1 <br /> |
| `filters` <br />_HTTPRouteFilter array_ | Filters define the filters that are applied to requests that match<br />this rule.<br /><br />See documentation for the `filters` field in the `HTTPRouteRule` type at<br />https://gateway-api.sigs.k8s.io/reference/spec/#httprouterule |  | MaxItems: 16 <br /> |
| `backends` <br />_[HTTPProxyRuleBackend](#httpproxyrulebackend) array_ | Backends defines the backend(s) where matching requests should be<br />sent.<br /><br />Note: While this field is a list, only a single element is permitted at<br />this time due to underlying Gateway limitations. Once addressed, MaxItems<br />will be increased to allow for multiple backends on any given route. |  | MaxItems: 1 <br />MinItems: 0 <br /> |


#### HTTPProxyRuleBackend







_Appears in:_
- [HTTPProxyRule](#httpproxyrule)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `endpoint` <br />_string_ | Endpoint for the backend. Must be a valid URL.<br /><br />Supports http and https protocols, IPs or DNS addresses in the host, custom<br />ports, and paths. |  | Required: \{\} <br /> |
| `filters` <br />_HTTPRouteFilter array_ | Filters defined at this level should be executed if and only if the<br />request is being forwarded to the backend defined here. |  | MaxItems: 16 <br /> |


#### HTTPProxySpec



HTTPProxySpec defines the desired state of HTTPProxy.



_Appears in:_
- [HTTPProxy](#httpproxy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `hostnames` <br />_Hostname array_ | Hostnames defines a set of hostnames that should match against the HTTP<br />Host header to select a HTTPProxy used to process the request.<br /><br />Valid values for Hostnames are determined by RFC 1123 definition of a<br />hostname with 1 notable exception:<br />1. IPs are not allowed.<br /><br />Hostnames must be verified before being programmed. This is accomplished<br />via the use of `Domain` resources. A hostname is considered verified if any<br />verified `Domain` resource exists in the same namespace where the<br />`spec.domainName` of the resource either exactly matches the hostname, or<br />is a suffix match of the hostname. That means that a Domain with a<br />`spec.domainName` of `example.com` will match a hostname of<br />`test.example.com`, `foo.test.example.com`, and exactly `example.com`, but<br />not a hostname of `test-example.com`. If a `Domain` resource does not exist<br />that matches a hostname, one will automatically be created when the system<br />attempts to program the HTTPProxy.<br /><br />In addition to verifying ownership, hostnames must be unique across the<br />platform. If a hostname is already programmed on another resource, a<br />conflict will be encountered and communicated in the `HostnamesVerified`<br />condition.<br /><br />Hostnames which have been programmed will be listed in the<br />`status.hostnames` field. Any hostname which has not been programmed will<br />be listed in the `message` field of the `HostnamesVerified` condition with<br />an indication as to why it was not programmed.<br /><br />The system may automatically generate and associate hostnames with the<br />HTTPProxy. In such cases, these will be listed in the `status.hostnames`<br />field and do not require additional configuration by the user.<br /><br />Wildcard hostnames are not supported at this time. |  | MaxItems: 16 <br />Optional: \{\} <br /> |
| `rules` <br />_[HTTPProxyRule](#httpproxyrule) array_ | Rules are a list of HTTP matchers, filters and actions. |  | MaxItems: 16 <br />MinItems: 1 <br />Required: \{\} <br /> |


#### HTTPProxyStatus



HTTPProxyStatus defines the observed state of HTTPProxy.



_Appears in:_
- [HTTPProxy](#httpproxy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `addresses` <br />_GatewayStatusAddress array_ | Addresses lists the network addresses that have been bound to the<br />HTTPProxy.<br /><br />This field will not contain custom hostnames defined in the HTTPProxy. See<br />the `hostnames` field |  | MaxItems: 16 <br /> |
| `hostnames` <br />_Hostname array_ | Hostnames lists the hostnames that have been bound to the HTTPProxy.<br /><br />If this list does not match that defined in the HTTPProxy, see the<br />`HostnamesVerified` condition message for details. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions describe the current conditions of the HTTPProxy. |  |  |


#### HTTPVerificationToken







_Appears in:_
- [DomainVerificationStatus](#domainverificationstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `url` <br />_string_ |  |  |  |
| `body` <br />_string_ |  |  |  |


#### IPBlock



IPBlock describes a particular CIDR (Ex. "192.168.1.0/24","2001:db8::/64")
that is allowed to the targets matched by a network policy. The except entry
describes CIDRs that should not be included within this rule.



_Appears in:_
- [NetworkPolicyPeer](#networkpolicypeer)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `cidr` <br />_string_ | cidr is a string representing the IPBlock<br />Valid examples are "192.168.1.0/24" or "2001:db8::/64" |  | Required: \{\} <br /> |
| `except` <br />_string array_ | except is a slice of CIDRs that should not be included within an IPBlock<br />Valid examples are "192.168.1.0/24" or "2001:db8::/64"<br />Except values will be rejected if they are outside the cidr range |  | Optional: \{\} <br /> |


#### IPFamily

_Underlying type:_ _string_



_Validation:_
- Enum: [IPv4 IPv6]

_Appears in:_
- [NetworkSpec](#networkspec)
- [SubnetClaimSpec](#subnetclaimspec)
- [SubnetSpec](#subnetspec)

| Field | Description |
| `IPv4` |  |
| `IPv6` |  |


#### LocalNetworkContextRef







_Appears in:_
- [SubnetClaimSpec](#subnetclaimspec)
- [SubnetSpec](#subnetspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | The network context name |  | Required: \{\} <br /> |


#### LocalNetworkRef







_Appears in:_
- [NetworkContextSpec](#networkcontextspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | The network name |  | Required: \{\} <br /> |


#### LocalSubnetReference







_Appears in:_
- [SubnetClaimStatus](#subnetclaimstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ |  |  |  |


#### Location



Location is the Schema for the locations API.



_Appears in:_
- [LocationList](#locationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `Location` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[LocationSpec](#locationspec)_ |  |  |  |
| `status` <br />_[LocationStatus](#locationstatus)_ |  |  |  |


#### LocationList



LocationList contains a list of Location.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `LocationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Location](#location) array_ |  |  |  |


#### LocationProvider







_Appears in:_
- [LocationSpec](#locationspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `gcp` <br />_[GCPLocationProvider](#gcplocationprovider)_ |  |  |  |


#### LocationReference







_Appears in:_
- [NetworkBindingSpec](#networkbindingspec)
- [NetworkContextSpec](#networkcontextspec)
- [SubnetClaimSpec](#subnetclaimspec)
- [SubnetSpec](#subnetspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name of a datum location |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace for the datum location |  | Required: \{\} <br /> |


#### LocationSpec



LocationSpec defines the desired state of Location.



_Appears in:_
- [Location](#location)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `locationClassName` <br />_string_ | The location class that indicates control plane behavior of entities<br />associated with the location.<br /><br />Valid values are:<br />	- datum-managed<br />	- self-managed |  | Required: \{\} <br /> |
| `topology` <br />_object (keys:string, values:string)_ | The topology of the location<br />This may contain arbitrary topology keys. Some keys may be well known, such<br />as:<br />	- topology.datum.net/city-code |  | Required: \{\} <br /> |
| `provider` <br />_[LocationProvider](#locationprovider)_ | The location provider |  | Required: \{\} <br /> |


#### LocationStatus



LocationStatus defines the observed state of Location.



_Appears in:_
- [Location](#location)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a location's current state. |  |  |


#### Nameserver







_Appears in:_
- [DomainRefStatus](#domainrefstatus)
- [DomainStatus](#domainstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `hostname` <br />_string_ |  |  |  |
| `ips` <br />_[NameserverIP](#nameserverip) array_ |  |  |  |


#### NameserverIP



NameserverIP captures per-address provenance for a nameserver.



_Appears in:_
- Nameserver

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `address` <br />_string_ |  |  |  |
| `registrantName` <br />_string_ |  |  |  |


#### Network



Network is the Schema for the networks API



_Appears in:_
- [NetworkList](#networklist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `Network` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[NetworkSpec](#networkspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[NetworkStatus](#networkstatus)_ |  |  |  |


#### NetworkBinding



NetworkBinding is the Schema for the networkbindings API



_Appears in:_
- [NetworkBindingList](#networkbindinglist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkBinding` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[NetworkBindingSpec](#networkbindingspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[NetworkBindingStatus](#networkbindingstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Ready]] \} |  |


#### NetworkBindingList



NetworkBindingList contains a list of NetworkBinding





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkBindingList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[NetworkBinding](#networkbinding) array_ |  |  |  |




#### NetworkBindingSpec



NetworkBindingSpec defines the desired state of NetworkBinding



_Appears in:_
- [NetworkBinding](#networkbinding)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `network` <br />_[NetworkRef](#networkref)_ | The network that the binding is for. |  | Required: \{\} <br /> |
| `location` <br />_[LocationReference](#locationreference)_ | The location of where a network binding exists. |  | Required: \{\} <br /> |


#### NetworkBindingStatus



NetworkBindingStatus defines the observed state of NetworkBinding



_Appears in:_
- [NetworkBinding](#networkbinding)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `networkContextRef` <br />_[NetworkContextRef](#networkcontextref)_ |  |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a network binding's current state. |  |  |


#### NetworkContext



NetworkContext is the Schema for the networkcontexts API



_Appears in:_
- [NetworkContextList](#networkcontextlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkContext` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[NetworkContextSpec](#networkcontextspec)_ |  |  |  |
| `status` <br />_[NetworkContextStatus](#networkcontextstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Programmed] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Ready]] \} |  |


#### NetworkContextList



NetworkContextList contains a list of NetworkContext





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkContextList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[NetworkContext](#networkcontext) array_ |  |  |  |


#### NetworkContextRef







_Appears in:_
- [NetworkBindingStatus](#networkbindingstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `namespace` <br />_string_ | The network context namespace |  | Required: \{\} <br /> |
| `name` <br />_string_ | The network context name |  | Required: \{\} <br /> |


#### NetworkContextSpec



NetworkContextSpec defines the desired state of NetworkContext



_Appears in:_
- [NetworkContext](#networkcontext)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `network` <br />_[LocalNetworkRef](#localnetworkref)_ | The attached network |  | Required: \{\} <br /> |
| `location` <br />_[LocationReference](#locationreference)_ | The location of where a network context exists. |  | Required: \{\} <br /> |


#### NetworkContextStatus



NetworkContextStatus defines the observed state of NetworkContext



_Appears in:_
- [NetworkContext](#networkcontext)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a network context's current state. |  |  |


#### NetworkIPAM







_Appears in:_
- [NetworkSpec](#networkspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `mode` <br />_[NetworkIPAMMode](#networkipammode)_ | IPAM mode |  | Enum: [Auto Policy] <br />Required: \{\} <br /> |
| `ipv4Range` <br />_string_ | IPv4 range to use in auto mode networks. Defaults to 10.128.0.0/9. |  | Optional: \{\} <br /> |
| `ipv6Range` <br />_string_ | IPv6 range to use in auto mode networks. Defaults to a /48 allocated from `fd20::/20`. |  | Optional: \{\} <br /> |


#### NetworkIPAMMode

_Underlying type:_ _string_





_Appears in:_
- [NetworkIPAM](#networkipam)

| Field | Description |
| `Auto` | Automatically allocate subnets in the network<br /> |
| `Policy` | Leverage allocation policies or manually created subnets<br /> |


#### NetworkList



NetworkList contains a list of Network





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Network](#network) array_ |  |  |  |


#### NetworkPolicy



NetworkPolicy is the Schema for the networkpolicies API



_Appears in:_
- [NetworkPolicyList](#networkpolicylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkPolicy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[NetworkPolicySpec](#networkpolicyspec)_ |  |  |  |
| `status` <br />_[NetworkPolicyStatus](#networkpolicystatus)_ |  |  |  |




#### NetworkPolicyList



NetworkPolicyList contains a list of NetworkPolicy





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `NetworkPolicyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[NetworkPolicy](#networkpolicy) array_ |  |  |  |


#### NetworkPolicyPeer



NetworkPolicyPeer describes a peer to allow traffic to/from. Only certain combinations of
fields are allowed



_Appears in:_
- [NetworkPolicyIngressRule](#networkpolicyingressrule)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `ipBlock` <br />_[IPBlock](#ipblock)_ | ipBlock defines policy on a particular IPBlock. If this field is set then<br />neither of the other fields can be. |  | Optional: \{\} <br /> |


#### NetworkPolicyPort



NetworkPolicyPort describes a port to allow traffic on



_Appears in:_
- [NetworkPolicyIngressRule](#networkpolicyingressrule)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `protocol` <br />_[Protocol](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#protocol-v1-core)_ | protocol represents the protocol (TCP, UDP, or SCTP) which traffic must match.<br /><br />If not specified, this field defaults to TCP. |  | Optional: \{\} <br /> |
| `port` <br />_[IntOrString](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#intorstring-intstr-util)_ | port represents the port on the given protocol. This can either be a numerical or named<br />port on an instance. If this field is not provided, this matches all port names and<br />numbers.<br /><br />If present, only traffic on the specified protocol AND port will be matched. |  | Optional: \{\} <br /> |
| `endPort` <br />_integer_ | endPort indicates that the range of ports from port to endPort if set, inclusive,<br />should be allowed by the policy. This field cannot be defined if the port field<br />is not defined or if the port field is defined as a named (string) port.<br /><br />The endPort must be equal or greater than port. |  | Optional: \{\} <br /> |


#### NetworkPolicySpec



NetworkPolicySpec defines the desired state of NetworkPolicy



_Appears in:_
- [NetworkPolicy](#networkpolicy)



#### NetworkPolicyStatus



NetworkPolicyStatus defines the observed state of NetworkPolicy



_Appears in:_
- [NetworkPolicy](#networkpolicy)



#### NetworkRef







_Appears in:_
- [NetworkBindingSpec](#networkbindingspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `namespace` <br />_string_ | The network namespace.<br /><br />Defaults to the namespace for the type the reference is embedded in. |  | Optional: \{\} <br /> |
| `name` <br />_string_ | The network name |  | Required: \{\} <br /> |


#### NetworkSpec



NetworkSpec defines the desired state of a Network



_Appears in:_
- [Network](#network)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `ipam` <br />_[NetworkIPAM](#networkipam)_ | IPAM settings for the network. |  | Required: \{\} <br /> |
| `ipFamilies` <br />_[IPFamily](#ipfamily) array_ | IP Families to permit on a network. Defaults to IPv4. | [IPv4] | Enum: [IPv4 IPv6] <br />Optional: \{\} <br /> |
| `mtu` <br />_integer_ | Network MTU. May be between 1300 and 8856. | 1460 | Maximum: 8856 <br />Minimum: 1300 <br />Optional: \{\} <br /> |


#### NetworkStatus



NetworkStatus defines the observed state of Network



_Appears in:_
- [Network](#network)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a network's current state. |  |  |


#### OWASPCRS



OWASPCRS defines configuration options for the OWASP ModSecurity Core Rule Set (CRS).



_Appears in:_
- [TrafficProtectionPolicyRuleSet](#trafficprotectionpolicyruleset)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `paranoiaLevels` <br />_[ParanoiaLevels](#paranoialevels)_ | ParanoiaLevels specifies the OWASP ModSecurity Core Rule Set (CRS)<br />paranoia levels to use. | \{  \} |  |
| `scoreThresholds` <br />_[OWASPScoreThresholds](#owaspscorethresholds)_ | ScoreThresholds specifies the OWASP ModSecurity Core Rule Set (CRS)<br />score thresholds to block a request or response.<br /><br />See: https://coreruleset.org/docs/2-how-crs-works/2-1-anomaly_scoring/ | \{  \} |  |
| `ruleExclusions` <br />_[OWASPRuleExclusions](#owaspruleexclusions)_ | RuleExclusions can be used to disable specific OWASP ModSecurity Rules.<br /><br />This allows operators to disable specific rules that may be causing false<br />positives. |  | Optional: \{\} <br /> |


#### OWASPIDRange

_Underlying type:_ _string_

OWASPIDRange is a range of OWASP ModSecurity Rule IDs.

_Validation:_
- MaxLength: 21
- Pattern: `^\d{1,10}-\d{1,10}$`

_Appears in:_
- [OWASPRuleExclusions](#owaspruleexclusions)



#### OWASPRuleExclusions







_Appears in:_
- [OWASPCRS](#owaspcrs)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `tags` <br />_[OWASPTag](#owasptag) array_ | Tags is a list of rule tags to disable. |  | MaxItems: 100 <br />Pattern: `^[a-zA-Z0-9_\-/]+$` <br /> |
| `ids` <br />_integer array_ | IDs is a list of specific rule IDs to disable |  | MaxItems: 100 <br /> |
| `idRanges` <br />_[OWASPIDRange](#owaspidrange) array_ | IDRanges is a list of specific rule ID ranges to disable. |  | MaxItems: 100 <br />MaxLength: 21 <br />Pattern: `^\d\{1,10\}-\d\{1,10\}$` <br /> |


#### OWASPScoreThresholds







_Appears in:_
- [OWASPCRS](#owaspcrs)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `inbound` <br />_integer_ | Inbound is the score threshold for blocking inbound (request) traffic. | 5 | Maximum: 10000 <br />Minimum: 1 <br /> |
| `outbound` <br />_integer_ | Outbound is the score threshold for blocking outbound (response) traffic. | 4 | Maximum: 10000 <br />Minimum: 1 <br /> |


#### OWASPTag

_Underlying type:_ _string_



_Validation:_
- Pattern: `^[a-zA-Z0-9_\-/]+$`

_Appears in:_
- [OWASPRuleExclusions](#owaspruleexclusions)



#### ParanoiaLevels







_Appears in:_
- [OWASPCRS](#owaspcrs)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `blocking` <br />_integer_ | Blocking specifies the paranoia level for blocking requests or responses. | 1 | Maximum: 4 <br />Minimum: 1 <br /> |
| `detection` <br />_integer_ | Detection specifies the paranoia level for detection only. This allows<br />setting a higher paranoia level for detection while keeping blocking at a<br />lower level. | 1 | Maximum: 4 <br />Minimum: 1 <br /> |


#### RegistrarInfo







_Appears in:_
- [Registration](#registration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `ianaID` <br />_string_ |  |  |  |
| `name` <br />_string_ |  |  |  |
| `url` <br />_string_ |  |  |  |


#### Registration



Registration represents the registration information for a domain



_Appears in:_
- [DomainStatus](#domainstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `domain` <br />_string_ | Identity & provenance |  |  |
| `registryDomainID` <br />_string_ |  |  |  |
| `handle` <br />_string_ |  |  |  |
| `source` <br />_string_ |  |  |  |
| `registrar` <br />_[RegistrarInfo](#registrarinfo)_ |  |  |  |
| `registry` <br />_[RegistryInfo](#registryinfo)_ |  |  |  |
| `createdAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | Lifecycle |  |  |
| `updatedAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ |  |  |  |
| `expiresAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ |  |  |  |
| `statuses` <br />_string array_ | Raw statuses that will either be rdap rfc8056 or whois EPP status strings |  |  |
| `dnssec` <br />_[DNSSECInfo](#dnssecinfo)_ | DNSSEC (from RDAP secureDNS, with WHOIS fallback when parsable) |  |  |
| `contacts` <br />_[ContactSet](#contactset)_ | Contacts (minimal, non-PII summary if available) |  |  |
| `abuse` <br />_[AbuseContact](#abusecontact)_ | Abuse / support contacts (registrar/registry) |  |  |
| `nextRefreshAttempt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ |  |  |  |
| `lastRefreshAttempt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ |  |  |  |


#### RegistryInfo







_Appears in:_
- [Registration](#registration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ |  |  |  |
| `url` <br />_string_ |  |  |  |


#### Subnet



Subnet is the Schema for the subnets API



_Appears in:_
- [SubnetList](#subnetlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `Subnet` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[SubnetSpec](#subnetspec)_ |  |  |  |
| `status` <br />_[SubnetStatus](#subnetstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Allocated] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Programmed] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Ready]] \} |  |


#### SubnetClaim



SubnetClaim is the Schema for the subnetclaims API



_Appears in:_
- [SubnetClaimList](#subnetclaimlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `SubnetClaim` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[SubnetClaimSpec](#subnetclaimspec)_ |  |  |  |
| `status` <br />_[SubnetClaimStatus](#subnetclaimstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Allocated] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Programmed] map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for controller reason:Pending status:Unknown type:Ready]] \} |  |


#### SubnetClaimList



SubnetClaimList contains a list of SubnetClaim





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `SubnetClaimList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[SubnetClaim](#subnetclaim) array_ |  |  |  |


#### SubnetClaimSpec



SubnetClaimSpec defines the desired state of SubnetClaim



_Appears in:_
- [SubnetClaim](#subnetclaim)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subnetClass` <br />_string_ | The class of subnet required |  | Required: \{\} <br /> |
| `networkContext` <br />_[LocalNetworkContextRef](#localnetworkcontextref)_ | The network context to claim a subnet in |  | Required: \{\} <br /> |
| `location` <br />_[LocationReference](#locationreference)_ | The location which a subnet claim is associated with |  | Required: \{\} <br /> |
| `ipFamily` <br />_[IPFamily](#ipfamily)_ | The IP family of a subnet claim |  | Enum: [IPv4 IPv6] <br />Required: \{\} <br /> |
| `startAddress` <br />_string_ | The start address of a subnet claim |  | Optional: \{\} <br /> |
| `prefixLength` <br />_integer_ | The prefix length of a subnet claim |  | Optional: \{\} <br /> |


#### SubnetClaimStatus



SubnetClaimStatus defines the observed state of SubnetClaim



_Appears in:_
- [SubnetClaim](#subnetclaim)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subnetRef` <br />_[LocalSubnetReference](#localsubnetreference)_ | The subnet which has been claimed from |  |  |
| `startAddress` <br />_string_ | The start address of a subnet claim |  |  |
| `prefixLength` <br />_integer_ | The prefix length of a subnet claim |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a subnet claim's current state. |  |  |


#### SubnetList



SubnetList contains a list of Subnet





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `SubnetList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Subnet](#subnet) array_ |  |  |  |


#### SubnetSpec



SubnetSpec defines the desired state of Subnet



_Appears in:_
- [Subnet](#subnet)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subnetClass` <br />_string_ | The class of subnet |  | Required: \{\} <br /> |
| `networkContext` <br />_[LocalNetworkContextRef](#localnetworkcontextref)_ | A subnet's network context |  | Required: \{\} <br /> |
| `location` <br />_[LocationReference](#locationreference)_ | The location which a subnet is associated with |  | Required: \{\} <br /> |
| `ipFamily` <br />_[IPFamily](#ipfamily)_ | The IP family of a subnet |  | Enum: [IPv4 IPv6] <br />Required: \{\} <br /> |
| `startAddress` <br />_string_ | The start address of a subnet |  | Required: \{\} <br /> |
| `prefixLength` <br />_integer_ | The prefix length of a subnet |  | Required: \{\} <br /> |


#### SubnetStatus



SubnetStatus defines the observed state of a Subnet



_Appears in:_
- [Subnet](#subnet)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `startAddress` <br />_string_ | The start address of a subnet |  |  |
| `prefixLength` <br />_integer_ | The prefix length of a subnet |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a subnet's current state. |  |  |


#### TrafficProtectionPolicy



TrafficProtectionPolicy is the Schema for the trafficprotectionpolicies API.



_Appears in:_
- [TrafficProtectionPolicyList](#trafficprotectionpolicylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `TrafficProtectionPolicy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[TrafficProtectionPolicySpec](#trafficprotectionpolicyspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[TrafficProtectionPolicyStatus](#trafficprotectionpolicystatus)_ |  |  |  |


#### TrafficProtectionPolicyList



TrafficProtectionPolicyList contains a list of TrafficProtectionPolicy.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `networking.datumapis.com/v1alpha` | | |
| `kind` <br />_string_ | `TrafficProtectionPolicyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[TrafficProtectionPolicy](#trafficprotectionpolicy) array_ |  |  |  |


#### TrafficProtectionPolicyMode

_Underlying type:_ _string_

TrafficProtectionPolicyMode defines the mode of traffic protection to apply.

_Validation:_
- Enum: [Observe Enforce Disabled]

_Appears in:_
- [TrafficProtectionPolicySpec](#trafficprotectionpolicyspec)

| Field | Description |
| `Observe` | Observe will log violations but not block traffic.<br /> |
| `Enforce` | Enforce will block traffic that violates the policy.<br /> |
| `Disabled` | Disabled will turn off traffic protection.<br /> |


#### TrafficProtectionPolicyRuleSet







_Appears in:_
- [TrafficProtectionPolicySpec](#trafficprotectionpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `type` <br />_[TrafficProtectionPolicyRuleSetType](#trafficprotectionpolicyrulesettype)_ | Type specifies the type of TrafficProtectionPolicy ruleset. |  | Enum: [OWASPCoreRuleSet] <br />Required: \{\} <br /> |
| `owaspCoreRuleSet` <br />_[OWASPCRS](#owaspcrs)_ | OWASPCoreRuleSet defines configuration options for the OWASP ModSecurity<br />Core Rule Set (CRS). |  | Optional: \{\} <br /> |


#### TrafficProtectionPolicyRuleSetType

_Underlying type:_ _string_

TrafficProtectionPolicyRuleSetType identifies a type of TrafficProtectionPolicy ruleset.



_Appears in:_
- [TrafficProtectionPolicyRuleSet](#trafficprotectionpolicyruleset)

| Field | Description |
| `OWASPCoreRuleSet` |  |


#### TrafficProtectionPolicySpec



TrafficProtectionPolicySpec defines the desired state of TrafficProtectionPolicy.



_Appears in:_
- [TrafficProtectionPolicy](#trafficprotectionpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `targetRefs` <br />_LocalPolicyTargetReferenceWithSectionName array_ | TargetRefs are the names of the Gateway resources this policy<br />is being attached to. |  | MinItems: 1 <br />Required: \{\} <br /> |
| `mode` <br />_[TrafficProtectionPolicyMode](#trafficprotectionpolicymode)_ | Mode specifies the mode of traffic protection to apply.<br /><br />If not specified, defaults to "Observe". | Observe | Enum: [Observe Enforce Disabled] <br /> |
| `samplingPercentage` <br />_integer_ | SamplingPercentage controls the percentage of traffic that will be processed<br />by the TrafficProtectionPolicy. | 100 | Maximum: 100 <br />Minimum: 1 <br /> |
| `ruleSets` <br />_[TrafficProtectionPolicyRuleSet](#trafficprotectionpolicyruleset) array_ | RuleSets specifies the TrafficProtectionPolicy rulesets to apply. | [map[owaspCoreRuleSet:map[] type:OWASPCoreRuleSet]] | MaxItems: 16 <br />MinItems: 1 <br />Required: \{\} <br /> |


#### TrafficProtectionPolicyStatus



TrafficProtectionPolicyStatus defines the observed state of TrafficProtectionPolicy.



_Appears in:_
- [TrafficProtectionPolicy](#trafficprotectionpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `ancestors` <br />_[PolicyAncestorStatus](#policyancestorstatus) array_ | Ancestors is a list of ancestor resources (usually Gateways) that are<br />associated with the policy, and the status of the policy with respect to<br />each ancestor. When this policy attaches to a parent, the controller that<br />manages the parent and the ancestors MUST add an entry to this list when<br />the controller first sees the policy and SHOULD update the entry as<br />appropriate when the relevant ancestor is modified.<br /><br />Note that choosing the relevant ancestor is left to the Policy designers;<br />an important part of Policy design is designing the right object level at<br />which to namespace this status.<br /><br />Note also that implementations MUST ONLY populate ancestor status for<br />the Ancestor resources they are responsible for. Implementations MUST<br />use the ControllerName field to uniquely identify the entries in this list<br />that they are responsible for.<br /><br />Note that to achieve this, the list of PolicyAncestorStatus structs<br />MUST be treated as a map with a composite key, made up of the AncestorRef<br />and ControllerName fields combined.<br /><br />A maximum of 16 ancestors will be represented in this list. An empty list<br />means the Policy is not relevant for any ancestors.<br /><br />If this slice is full, implementations MUST NOT add further entries.<br /><br />Instead they MUST consider the policy unimplementable and signal that<br />on any related resources such as the ancestor that would be referenced<br />here. For example, if this list was full on BackendTLSPolicy, no<br />additional Gateways would be able to reference the Service targeted by<br />the BackendTLSPolicy. |  | MaxItems: 16 <br /> |



## notification.miloapis.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the email v1alpha1 API group


### Resource Types
- [Contact](#contact)
- [ContactGroup](#contactgroup)
- [ContactGroupList](#contactgrouplist)
- [ContactGroupMembership](#contactgroupmembership)
- [ContactGroupMembershipList](#contactgroupmembershiplist)
- [ContactGroupMembershipRemoval](#contactgroupmembershipremoval)
- [ContactGroupMembershipRemovalList](#contactgroupmembershipremovallist)
- [ContactList](#contactlist)
- [Email](#email)
- [EmailBroadcast](#emailbroadcast)
- [EmailBroadcastList](#emailbroadcastlist)
- [EmailList](#emaillist)
- [EmailTemplate](#emailtemplate)
- [EmailTemplateList](#emailtemplatelist)



#### Contact



Contact is the Schema for the contacts API.
It represents a contact for a user.



_Appears in:_
- [ContactList](#contactlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Contact` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ContactSpec](#contactspec)_ |  |  | Type: object <br /> |
| `status` <br />_[ContactStatus](#contactstatus)_ |  |  |  |


#### ContactGroup



ContactGroup is the Schema for the contactgroups API.
It represents a logical grouping of Contacts.



_Appears in:_
- [ContactGroupList](#contactgrouplist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroup` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ContactGroupSpec](#contactgroupspec)_ |  |  | Type: object <br /> |
| `status` <br />_[ContactGroupStatus](#contactgroupstatus)_ |  |  |  |


#### ContactGroupList



ContactGroupList contains a list of ContactGroup.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroupList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ContactGroup](#contactgroup) array_ |  |  |  |


#### ContactGroupMembership



ContactGroupMembership is the Schema for the contactgroupmemberships API.
It represents a membership of a Contact in a ContactGroup.



_Appears in:_
- [ContactGroupMembershipList](#contactgroupmembershiplist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroupMembership` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ContactGroupMembershipSpec](#contactgroupmembershipspec)_ |  |  | Type: object <br /> |
| `status` <br />_[ContactGroupMembershipStatus](#contactgroupmembershipstatus)_ |  |  |  |


#### ContactGroupMembershipList



ContactGroupMembershipList contains a list of ContactGroupMembership.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroupMembershipList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ContactGroupMembership](#contactgroupmembership) array_ |  |  |  |


#### ContactGroupMembershipRemoval



ContactGroupMembershipRemoval is the Schema for the contactgroupmembershipremovals API.
It represents a removal of a Contact from a ContactGroup, it also prevents the Contact from being added to the ContactGroup.

_Validation:_
- Type: object

_Appears in:_
- [ContactGroupMembershipRemovalList](#contactgroupmembershipremovallist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroupMembershipRemoval` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ContactGroupMembershipRemovalSpec](#contactgroupmembershipremovalspec)_ |  |  |  |
| `status` <br />_[ContactGroupMembershipRemovalStatus](#contactgroupmembershipremovalstatus)_ |  |  |  |


#### ContactGroupMembershipRemovalList



ContactGroupMembershipRemovalList contains a list of ContactGroupMembershipRemoval.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactGroupMembershipRemovalList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ContactGroupMembershipRemoval](#contactgroupmembershipremoval) array_ |  |  | Type: object <br /> |


#### ContactGroupMembershipRemovalSpec







_Appears in:_
- [ContactGroupMembershipRemoval](#contactgroupmembershipremoval)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `contactRef` <br />_[ContactReference](#contactreference)_ | ContactRef is a reference to the Contact that prevents the Contact from being part of the ContactGroup. |  | Required: \{\} <br /> |
| `contactGroupRef` <br />_[ContactGroupReference](#contactgroupreference)_ | ContactGroupRef is a reference to the ContactGroup that the Contact does not want to be a member of. |  | Required: \{\} <br /> |


#### ContactGroupMembershipRemovalStatus







_Appears in:_
- [ContactGroupMembershipRemoval](#contactgroupmembershipremoval)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Ready" which tracks contact group membership removal creation status. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for contact group membership removal to be created reason:CreatePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `username` <br />_string_ | Username is the username of the user that owns the ContactGroupMembershipRemoval.<br /><br />This is populated by the controller based on the referenced Contact's subject. |  |  |


#### ContactGroupMembershipSpec



ContactGroupMembershipSpec defines the desired state of ContactGroupMembership.

_Validation:_
- Type: object

_Appears in:_
- [ContactGroupMembership](#contactgroupmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `contactRef` <br />_[ContactReference](#contactreference)_ | ContactRef is a reference to the Contact that is a member of the ContactGroup. |  | Required: \{\} <br /> |
| `contactGroupRef` <br />_[ContactGroupReference](#contactgroupreference)_ | ContactGroupRef is a reference to the ContactGroup that the Contact is a member of. |  | Required: \{\} <br /> |


#### ContactGroupMembershipStatus







_Appears in:_
- [ContactGroupMembership](#contactgroupmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Ready" which tracks contact group membership creation status and sync to the contact group membership provider. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for contact group membership to be created reason:CreatePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `providers` <br />_[ContactProviderStatus](#contactproviderstatus) array_ | Providers contains the per-provider status for this contact group membership.<br /><br />This enables tracking multiple provider backends simultaneously. |  | Optional: \{\} <br /> |
| `providerID` <br />_string_ | ProviderID is the identifier returned by the underlying contact provider<br />(e.g. Resend) when the membership is created in the associated audience. It is usually<br />used to track the contact-group membership creation status (e.g. provider webhooks).<br /><br />Deprecated: Use Providers instead. |  |  |
| `username` <br />_string_ | Username is the username of the user that owns the ContactGroupMembership.<br /><br />This is populated by the controller based on the referenced Contact's subject. |  |  |


#### ContactGroupProviderSpec



ContactGroupProviderSpec defines the desired state of a contact group in a specific provider.



_Appears in:_
- [ContactGroupSpec](#contactgroupspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the provider handling this contact group.<br /><br />Allowed values is Loops. |  | Enum: [Loops] <br /> |
| `id` <br />_string_ | ID is the identifier of the contact group in the external provider.<br /><br />This field is used when a provider does not expose an API for creating mailing lists,<br />requiring an existing ContactList ID to be provided for synchronization purposes (e.g. Loops).<br /><br />If not provided, a new group will be created if supported by the provider. |  | Required: \{\} <br /> |


#### ContactGroupReference



ContactGroupReference contains information that points to the ContactGroup being referenced.



_Appears in:_
- [ContactGroupMembershipRemovalSpec](#contactgroupmembershipremovalspec)
- [ContactGroupMembershipSpec](#contactgroupmembershipspec)
- [EmailBroadcastSpec](#emailbroadcastspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the ContactGroup being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace is the namespace of the ContactGroup being referenced. |  | Required: \{\} <br /> |


#### ContactGroupSpec



ContactGroupSpec defines the desired state of ContactGroup.

_Validation:_
- Type: object

_Appears in:_
- [ContactGroup](#contactgroup)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `displayName` <br />_string_ | DisplayName is the display name of the contact group. |  | Required: \{\} <br /> |
| `visibility` <br />_[ContactGroupVisibility](#contactgroupvisibility)_ | Visibility determines whether members are allowed opt-in or opt-out of the contactgroup.<br />  • "public"  – members may leave via ContactGroupMembershipRemoval.<br />  • "private" – membership is enforced; opt-out requests are rejected. |  | Enum: [public private] <br />Required: \{\} <br /> |
| `providers` <br />_[ContactGroupProviderSpec](#contactgroupproviderspec) array_ | Providers defines the providers this group should be synced to. |  | MaxItems: 1 <br /> |


#### ContactGroupStatus







_Appears in:_
- [ContactGroup](#contactgroup)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Ready" which tracks contact group creation status and sync to the contact group provider. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for contact group to be created reason:CreatePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `providers` <br />_[ContactProviderStatus](#contactproviderstatus) array_ | Providers contains the per-provider status for this contact group.<br /><br />This enables tracking multiple provider backends simultaneously. |  | Optional: \{\} <br /> |
| `providerID` <br />_string_ | ProviderID is the identifier returned by the underlying contact groupprovider<br />(e.g. Resend) when the contact groupis created. It is usually<br />used to track the contact creation status (e.g. provider webhooks).<br /><br />Deprecated: Use Providers instead. |  |  |


#### ContactGroupVisibility

_Underlying type:_ _string_

ContactGroupVisibility declares whether a group is open for opt-out.



_Appears in:_
- [ContactGroupSpec](#contactgroupspec)

| Field | Description |
| `public` |  |
| `private` |  |


#### ContactList



ContactList contains a list of Contact.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ContactList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Contact](#contact) array_ |  |  |  |


#### ContactProviderStatus



ContactProviderStatus represents status information for a single contact provider.
It allows tracking the provider name and the provider-specific identifier.



_Appears in:_
- [ContactGroupMembershipStatus](#contactgroupmembershipstatus)
- [ContactGroupStatus](#contactgroupstatus)
- [ContactStatus](#contactstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the provider handling this contact.<br /><br />Allowed values are Resend and Loops. |  | Enum: [Resend Loops] <br /> |
| `id` <br />_string_ | ID is the identifier returned by the specific contact provider for this contact. |  | Required: \{\} <br /> |


#### ContactReference



ContactReference contains information that points to the Contact being referenced.



_Appears in:_
- [ContactGroupMembershipRemovalSpec](#contactgroupmembershipremovalspec)
- [ContactGroupMembershipSpec](#contactgroupmembershipspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the Contact being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace is the namespace of the Contact being referenced. |  | Required: \{\} <br /> |


#### ContactSpec



ContactSpec defines the desired state of Contact.

_Validation:_
- Type: object

_Appears in:_
- [Contact](#contact)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subject` <br />_[SubjectReference](#subjectreference)_ | Subject is a reference to the subject of the contact. |  | Optional: \{\} <br />Type: object <br /> |
| `familyName` <br />_string_ |  |  | Optional: \{\} <br /> |
| `givenName` <br />_string_ |  |  | Optional: \{\} <br /> |
| `email` <br />_string_ |  |  | Required: \{\} <br /> |


#### ContactStatus







_Appears in:_
- [Contact](#contact)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Ready" which tracks contact creation status and sync to the contact provider. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for contact to be created reason:CreatePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `providers` <br />_[ContactProviderStatus](#contactproviderstatus) array_ | Providers contains the per-provider status for this contact.<br /><br />This enables tracking multiple provider backends simultaneously. |  | Optional: \{\} <br /> |
| `providerID` <br />_string_ | ProviderID is the identifier returned by the underlying contact provider<br />(e.g. Resend) when the contact is created. It is usually<br />used to track the contact creation status (e.g. provider webhooks).<br /><br />Deprecated: Use Providers instead. |  |  |


#### Email



Email is the Schema for the emails API.
It represents a concrete e-mail that should be sent to the referenced users.
For idempotency purposes, controllers can use metadata.uid as a unique identifier
to prevent duplicate email delivery, since it's guaranteed to be unique per resource instance.



_Appears in:_
- [EmailList](#emaillist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Email` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[EmailSpec](#emailspec)_ |  |  | Type: object <br /> |
| `status` <br />_[EmailStatus](#emailstatus)_ |  |  | Type: object <br /> |


#### EmailBroadcast



EmailBroadcast is the Schema for the emailbroadcasts API.
It represents a broadcast of an email to a set of contacts (ContactGroup).
If the broadcast needs to be updated, delete and recreate the resource.



_Appears in:_
- [EmailBroadcastList](#emailbroadcastlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `EmailBroadcast` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[EmailBroadcastSpec](#emailbroadcastspec)_ |  |  | Type: object <br /> |
| `status` <br />_[EmailBroadcastStatus](#emailbroadcaststatus)_ |  |  |  |


#### EmailBroadcastList



EmailBroadcastList contains a list of EmailBroadcast.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `EmailBroadcastList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[EmailBroadcast](#emailbroadcast) array_ |  |  |  |


#### EmailBroadcastSpec



EmailBroadcastSpec defines the desired state of EmailBroadcast.

_Validation:_
- Type: object

_Appears in:_
- [EmailBroadcast](#emailbroadcast)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `displayName` <br />_string_ | DisplayName is the display name of the email broadcast. |  | Optional: \{\} <br /> |
| `contactGroupRef` <br />_[ContactGroupReference](#contactgroupreference)_ | ContactGroupRef is a reference to the ContactGroup that the email broadcast is for. |  | Required: \{\} <br /> |
| `templateRef` <br />_[TemplateReference](#templatereference)_ | TemplateRef references the EmailTemplate to render the broadcast message.<br /><br />When using the Resend provider you can include the following placeholders<br />in HTMLBody or TextBody; they will be substituted by the provider at send time:<br />  \{\{\{FIRST_NAME\}\}\} \{\{\{LAST_NAME\}\}\} \{\{\{EMAIL\}\}\} |  | Required: \{\} <br />Type: object <br /> |
| `scheduledAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | ScheduledAt optionally specifies the time at which the broadcast should be executed.<br /><br />If omitted, the message is sent as soon as the controller reconciles the resource.<br /><br />Example: "2024-08-05T11:52:01.858Z" |  | Optional: \{\} <br /> |


#### EmailBroadcastStatus







_Appears in:_
- [EmailBroadcast](#emailbroadcast)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Ready" which tracks email broadcast status and sync to the email broadcast provider. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for email broadcast to be created reason:CreatePending status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `providerID` <br />_string_ | ProviderID is the identifier returned by the underlying email broadcast provider<br />(e.g. Resend) when the email broadcast is created. It is usually<br />used to track the email broadcast creation status (e.g. provider webhooks). |  |  |


#### EmailList



EmailList contains a list of Email.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `EmailList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Email](#email) array_ |  |  |  |


#### EmailPriority

_Underlying type:_ _string_

EmailPriority defines the priority for sending an Email.

_Validation:_
- Enum: [low normal high]

_Appears in:_
- [EmailSpec](#emailspec)

| Field | Description |
| `low` |  |
| `normal` |  |
| `high` |  |


#### EmailRecipient



EmailRecipient contains information about the recipient of the email.

_Validation:_
- Type: object

_Appears in:_
- [EmailSpec](#emailspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `userRef` <br />_[EmailUserReference](#emailuserreference)_ | UserRef references the User resource that will receive the message.<br /><br />It is mutually exclusive with EmailAddress: exactly one of them must be specified. |  | Optional: \{\} <br />Type: object <br /> |
| `emailAddress` <br />_string_ | EmailAddress allows specifying a literal e-mail address for the recipient instead of referencing a User resource.<br /><br />It is mutually exclusive with UserRef: exactly one of them must be specified. |  | Optional: \{\} <br /> |


#### EmailSpec



EmailSpec defines the desired state of Email.
It references a template, recipients, and any variables required to render the final message.

_Validation:_
- Type: object

_Appears in:_
- [Email](#email)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `templateRef` <br />_[TemplateReference](#templatereference)_ | TemplateRef references the EmailTemplate that should be rendered. |  | Required: \{\} <br />Type: object <br /> |
| `recipient` <br />_[EmailRecipient](#emailrecipient)_ | Recipient contain the recipient of the email. |  | Required: \{\} <br />Type: object <br /> |
| `cc` <br />_string array_ | CC contains additional e-mail addresses that will receive a carbon copy of the message.<br /><br />Maximum 10 addresses. |  | MaxItems: 10 <br />Optional: \{\} <br /> |
| `bcc` <br />_string array_ | BCC contains e-mail addresses that will receive a blind-carbon copy of the message.<br /><br />Maximum 10 addresses. |  | MaxItems: 10 <br />Optional: \{\} <br /> |
| `variables` <br />_[EmailVariable](#emailvariable) array_ | Variables supplies the values that will be substituted in the template. |  | Optional: \{\} <br />Type: object <br /> |
| `priority` <br />_[EmailPriority](#emailpriority)_ | Priority influences the order in which pending e-mails are processed. | normal | Enum: [low normal high] <br />Optional: \{\} <br /> |


#### EmailStatus



EmailStatus captures the observed state of an Email.
Uses standard Kubernetes conditions to track both processing and delivery state.

_Validation:_
- Type: object

_Appears in:_
- [Email](#email)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state.<br /><br />Standard condition is "Delivered" which tracks email delivery status. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for email delivery reason:DeliveryPending status:Unknown type:Delivered]] | Optional: \{\} <br /> |
| `providerID` <br />_string_ | ProviderID is the identifier returned by the underlying email provider<br />(e.g. Resend) when the e-mail is accepted for delivery. It is usually<br />used to track the email delivery status (e.g. provider webhooks). |  |  |
| `htmlBody` <br />_string_ | HTMLBody stores the rendered HTML content of the e-mail. |  |  |
| `textBody` <br />_string_ | TextBody stores the rendered plain-text content of the e-mail. |  |  |
| `subject` <br />_string_ | Subject stores the subject line used for the e-mail. |  |  |
| `emailAddress` <br />_string_ | EmailAddress stores the final recipient address used for delivery,<br />after resolving any referenced User. |  |  |


#### EmailTemplate



EmailTemplate is the Schema for the email templates API.
It represents a reusable e-mail template that can be rendered by substituting
the declared variables.



_Appears in:_
- [EmailTemplateList](#emailtemplatelist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `EmailTemplate` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[EmailTemplateSpec](#emailtemplatespec)_ |  |  |  |
| `status` <br />_[EmailTemplateStatus](#emailtemplatestatus)_ |  |  |  |


#### EmailTemplateList



EmailTemplateList contains a list of EmailTemplate.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `notification.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `EmailTemplateList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[EmailTemplate](#emailtemplate) array_ |  |  |  |


#### EmailTemplateSpec



EmailTemplateSpec defines the desired state of EmailTemplate.
It contains the subject, content, and declared variables.



_Appears in:_
- [EmailTemplate](#emailtemplate)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `subject` <br />_string_ | Subject is the string that composes the email subject line. |  | Required: \{\} <br /> |
| `htmlBody` <br />_string_ | HTMLBody is the string for the HTML representation of the message. |  | Required: \{\} <br /> |
| `textBody` <br />_string_ | TextBody is the Go template string for the plain-text representation of the message. |  | Required: \{\} <br /> |
| `variables` <br />_[TemplateVariable](#templatevariable) array_ | Variables enumerates all variables that can be referenced inside the template expressions. |  | MaxItems: 100 <br />Optional: \{\} <br />Type: object <br /> |


#### EmailTemplateStatus



EmailTemplateStatus captures the observed state of an EmailTemplate.
Right now we only expose standard Kubernetes conditions so callers can
determine whether the template is ready for use.



_Appears in:_
- [EmailTemplate](#emailtemplate)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of an object's current state. | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |


#### EmailTemplateVariableType

_Underlying type:_ _string_

EmailTemplateVariableType defines the set of supported variable kinds.

_Validation:_
- Enum: [string url]

_Appears in:_
- [TemplateVariable](#templatevariable)

| Field | Description |
| `string` |  |
| `url` |  |


#### EmailUserReference



EmailUserReference contains information about the recipient User resource.
Users are cluster-scoped resources, hence Namespace is not included.

_Validation:_
- Type: object

_Appears in:_
- [EmailRecipient](#emailrecipient)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name contain the name of the User resource that will receive the email. |  | Required: \{\} <br /> |


#### EmailVariable



EmailVariable represents a name/value pair that will be injected into the template.

_Validation:_
- Type: object

_Appears in:_
- [EmailSpec](#emailspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name of the variable as declared in the associated EmailTemplate. |  | Required: \{\} <br /> |
| `value` <br />_string_ | Value provided for this variable. |  | Required: \{\} <br /> |


#### SubjectReference



SubjectReference is a reference to the subject of the contact.

_Validation:_
- Type: object

_Appears in:_
- [ContactSpec](#contactspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup is the group for the resource being referenced. |  | Enum: [iam.miloapis.com] <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind is the type of resource being referenced. |  | Enum: [User] <br />Required: \{\} <br /> |
| `name` <br />_string_ | Name is the name of resource being referenced. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace is the namespace of resource being referenced.<br /><br />Required for namespace-scoped resources. Omitted for cluster-scoped resources. |  | Optional: \{\} <br /> |


#### TemplateReference



TemplateReference contains information that points to the EmailTemplate being used.
EmailTemplate is a cluster-scoped resource, so Namespace is not required.

_Validation:_
- Type: object

_Appears in:_
- [EmailBroadcastSpec](#emailbroadcastspec)
- [EmailSpec](#emailspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of the EmailTemplate being referenced. |  | Required: \{\} <br /> |


#### TemplateVariable



TemplateVariable declares a variable that can be referenced in the template body or subject.
Each variable must be listed here so that callers know which parameters are expected.

_Validation:_
- Type: object

_Appears in:_
- [EmailTemplateSpec](#emailtemplatespec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the identifier of the variable as it appears inside the Go template (e.g. \{\{.UserName\}\}). |  | Required: \{\} <br /> |
| `required` <br />_boolean_ | Required indicates whether the variable must be provided when rendering the template. |  | Required: \{\} <br /> |
| `type` <br />_[EmailTemplateVariableType](#emailtemplatevariabletype)_ | Type provides a hint about the expected value of this variable (e.g. plain string or URL). |  | Enum: [string url] <br />Required: \{\} <br /> |



## quota.miloapis.com/v1alpha1

Package v1alpha1 contains API schema definitions for the quota.miloapis.com group.

# Quota System Overview

The quota system enables platform administrators to control resource consumption
through real-time enforcement and automated policy execution. The system tracks
resource usage, allocates capacity to consumers, and prevents resource creation
when limits are exceeded.

# Core Resource Types

The quota system uses four core types that manage resource tracking and allocation:

**[ResourceRegistration](#resourceregistration)**: Registers a resource type for quota tracking.
Platform administrators create registrations to define measurement units, display formats,
and specify which resources can consume the tracked resource type. For example, registering
"Projects per Organization" allows the system to track Project creation within Organizations.

**[ResourceGrant](#resourcegrant)**: Allocates quota capacity to a specific consumer.
Grants provide concrete allowances (for example, "100 Projects") to consumers like Organizations.
Multiple grants for the same consumer and resource type combine to determine total capacity.
Administrators create grants manually or automate them using GrantCreationPolicy.

**[ResourceClaim](#resourceclaim)**: Requests quota during resource creation.
Claims consume allocated capacity when resources are created. The system evaluates
each claim against available quota and either grants or denies the request.
ClaimCreationPolicy typically creates claims automatically during admission.

**[AllowanceBucket](#allowancebucket)**: Aggregates quota limits and usage for decision-making.
The system creates one bucket per consumer-resource type combination. Buckets combine
capacity from all active ResourceGrants and track consumption from all granted ResourceClaims
to calculate real-time availability for admission decisions.

# Policy Automation Types

Two policy types automate quota management based on resource lifecycle events:

**[GrantCreationPolicy](#grantcreationpolicy)**: Creates ResourceGrants when conditions are met.
Policies watch for resource changes and automatically provision quota capacity.
For example, automatically grant "100 Projects" when a new Organization is created.
Supports cross-cluster allocation and CEL expression-based conditions.

**[ClaimCreationPolicy](#claimcreationpolicy)**: Creates ResourceClaims during admission.
Policies intercept resource creation requests and generate quota claims for evaluation.
For example, create a "1 Project" claim when a Project resource is created.
Uses CEL expressions for dynamic claim content and trigger conditions.

# How the System Works

The quota system follows this workflow:

1. **Registration**: Administrators register resource types that require quota tracking.
2. **Allocation**: ResourceGrants provide quota capacity to consumers.
3. **Aggregation**: AllowanceBuckets combine grants and track usage for each consumer-resource pair.
4. **Enforcement**: ResourceClaims request quota during admission; the system grants or denies based on bucket availability.
5. **Monitoring**: Bucket status provides real-time quota usage visibility.

# Policy Automation Workflow

Policies automate the allocation and enforcement steps:

1. **Grant Policies**: Monitor resource changes and create grants when conditions match.
2. **Claim Policies**: Intercept admission requests and create claims for quota enforcement.
3. **Evaluation**: The system processes claims against bucket capacity in real-time.

# Status and Conditions

All resource types use standard Kubernetes status conditions to communicate state:

- **Active/Ready conditions**: Indicate when resources are operational and contributing to quota decisions.
- **Validation conditions**: Report configuration errors and resolution guidance.
- **ObservedGeneration**: Tracks which specification version the system has processed.

The system updates status conditions to reflect current state and provide troubleshooting information
when problems occur.


### Resource Types
- [AllowanceBucket](#allowancebucket)
- [AllowanceBucketList](#allowancebucketlist)
- [ClaimCreationPolicy](#claimcreationpolicy)
- [ClaimCreationPolicyList](#claimcreationpolicylist)
- [GrantCreationPolicy](#grantcreationpolicy)
- [GrantCreationPolicyList](#grantcreationpolicylist)
- [ResourceClaim](#resourceclaim)
- [ResourceClaimList](#resourceclaimlist)
- [ResourceGrant](#resourcegrant)
- [ResourceGrantList](#resourcegrantlist)
- [ResourceRegistration](#resourceregistration)
- [ResourceRegistrationList](#resourceregistrationlist)





#### Allowance



Allowance defines quota allocation for a specific resource type within a ResourceGrant.
Each allowance can contain multiple buckets that sum to provide total capacity.



_Appears in:_
- [ResourceGrantSpec](#resourcegrantspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resourceType` <br />_string_ | ResourceType identifies the specific resource type receiving quota allocation.<br /><br />Must exactly match a ResourceRegistration.spec.resourceType that is currently active.<br /><br />The quota system validates this reference when processing the grant.<br /><br />The identifier format is flexible, as defined by platform administrators<br />in their ResourceRegistrations.<br /><br />Examples:<br />- "resourcemanager.miloapis.com/projects"<br />- "compute_cpu"<br />- "storage.volumes"<br />- "custom-service-quota" |  | Required: \{\} <br /> |
| `buckets` <br />_[Bucket](#bucket) array_ | Buckets contains the quota allocations for this resource type.<br /><br />All bucket amounts are summed to determine the total allowance.<br /><br />Minimum 1 bucket required per allowance.<br /><br />Multiple buckets can be used for:<br />- Separating quota from different sources or tiers<br />- Managing incremental quota increases over time<br />- Tracking quota attribution for billing or reporting |  | MinItems: 1 <br />Required: \{\} <br /> |


#### AllowanceBucket



**AllowanceBucket** aggregates quota limits and usage for a single (consumer, resourceType) combination.
The system automatically creates buckets to provide real-time quota availability information
for **ResourceClaim** evaluation during admission.

### How It Works
1. **Auto-Creation**: Quota system creates buckets automatically for each unique (consumer, resourceType) pair found in active **ResourceGrants**
2. **Aggregation**: Quota system continuously aggregates capacity from active **ResourceGrants** and consumption from granted **ResourceClaims**
3. **Decision Support**: Quota system uses bucket `status.available` to determine if **ResourceClaims** can be granted
4. **Updates**: Quota system updates bucket status whenever contributing grants or claims change

### Aggregation Logic
**AllowanceBuckets** serve as the central aggregation point where quota capacity meets quota consumption.
The quota system continuously scans for **ResourceGrants** that match both the bucket's consumer
and resource type, but only considers grants with an `Active` status condition. For each qualifying
grant, the quota system examines all allowances targeting the bucket's resource type and sums the
amounts from every bucket within those allowances. This sum becomes the bucket's limit - the total
quota capacity available to the consumer for that specific resource type.

Simultaneously, the quota system tracks quota consumption by finding all **ResourceClaims** with matching
consumer and resource type specifications. However, only claims that have been successfully granted
contribute to the allocated total. The quota system sums the allocated amounts from all granted
requests, creating a running total of consumed quota capacity.

The available quota emerges from this simple relationship: Available = Limit - Allocated. The
system ensures this value never goes negative, treating any calculated negative as zero. This
available amount represents the quota capacity remaining for new **ResourceClaims** and drives
real-time admission decisions throughout the cluster.

### Real-Time Admission Decisions
When a **ResourceClaim** is created:
1. Quota system identifies the relevant bucket (matching consumer and resource type)
2. Compares requested amount with bucket's `status.available`
3. Grants claim if requested amount &lt;= available capacity
4. Denies claim if requested amount &gt; available capacity
5. Updates bucket status to reflect the new allocation (if granted)

### Bucket Lifecycle
1. **Auto-Created**: When first ResourceGrant creates allowance for (consumer, resourceType)
2. **Active**: Continuously aggregated while ResourceGrants or ResourceClaims exist
3. **Updated**: Status refreshed whenever contributing resources change
4. **Persistent**: Buckets remain even when limit drops to 0 (for monitoring)

### Consistency and Performance
**Eventual Consistency:**
- Status may lag briefly after ResourceGrant or ResourceClaim changes
- Controller processes updates asynchronously for performance
- LastReconciliation timestamp indicates data freshness

**Scale Optimization:**
- Stores aggregates (limit, allocated, available) rather than individual entries
- ContributingGrantRefs tracks grants (few) but not claims (many)
- Single bucket per (consumer, resourceType) regardless of claim count

### Status Information
- **Limit**: Total quota capacity from all contributing ResourceGrants
- **Allocated**: Total quota consumed by all granted ResourceClaims
- **Available**: Remaining quota capacity (Limit - Allocated)
- **ClaimCount**: Number of granted claims consuming from this bucket
- **GrantCount**: Number of active grants contributing to this bucket
- **ContributingGrantRefs**: Detailed information about contributing grants

### Monitoring and Troubleshooting
**Quota Monitoring:**
- Monitor status.available to track quota usage trends
- Check status.allocated vs status.limit for utilization ratios
- Use status.claimCount to understand resource creation patterns

**Troubleshooting Issues:**
When investigating quota problems, start with the bucket's limit value. A limit of zero typically
indicates that no ResourceGrants are contributing capacity for this consumer and resource type
combination. Verify that ResourceGrants exist with matching consumer and resource type specifications,
and confirm their status conditions show Active=True. Grants with validation failures or pending
states won't contribute to bucket limits.

High allocation values relative to limits suggest quota consumption issues. Review the ResourceClaims
that match this bucket's consumer and resource type to identify which resources are consuming large
amounts of quota. Check the claim allocation details to understand consumption patterns and identify
potential quota leaks where claims aren't being cleaned up properly.

Stale bucket data manifests as allocation or limit values that don't reflect recent changes to
grants or claims. Check the lastReconciliation timestamp to determine data freshness, then examine
quota system logs for aggregation errors or performance issues. The quota system should process
changes within seconds under normal conditions.

### System Architecture
- **Single Writer**: Only the quota system updates bucket status (prevents races)
- **Dedicated Processing**: Separate components focus solely on bucket aggregation
- **Event-Driven**: Responds to ResourceGrant and ResourceClaim changes
- **Efficient Queries**: Uses indexes and field selectors for fast aggregation

### Selectors and Filtering
- **Field selectors**: spec.consumerRef.kind, spec.consumerRef.name, spec.resourceType
- **System labels** (set automatically by quota system):
  - quota.miloapis.com/consumer-kind: Organization
  - quota.miloapis.com/consumer-name: acme-corp

### Common Queries
- All buckets for a consumer: label selector quota.miloapis.com/consumer-kind + quota.miloapis.com/consumer-name
- All buckets for a resource type: field selector spec.resourceType=&lt;value&gt;
- Specific bucket: field selector spec.consumerRef.name + spec.resourceType
- Overutilized buckets: filter by status.available &lt; threshold
- Empty buckets: filter by status.limit = 0

### Performance Considerations
- Bucket status updates are asynchronous and may lag resource changes
- Large numbers of ResourceClaims can impact aggregation performance
- Controller uses efficient aggregation queries to handle scale
- Status updates are batched to reduce API server load



_Appears in:_
- [AllowanceBucketList](#allowancebucketlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `AllowanceBucket` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[AllowanceBucketSpec](#allowancebucketspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[AllowanceBucketStatus](#allowancebucketstatus)_ |  |  |  |


#### AllowanceBucketList



AllowanceBucketList contains a list of AllowanceBucket.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `AllowanceBucketList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[AllowanceBucket](#allowancebucket) array_ |  |  |  |


#### AllowanceBucketSpec



AllowanceBucketSpec defines the desired state of AllowanceBucket.
The system automatically creates buckets for each unique (consumer, resourceType) combination
found in active ResourceGrants.



_Appears in:_
- [AllowanceBucket](#allowancebucket)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `consumerRef` <br />_[ConsumerRef](#consumerref)_ | ConsumerRef identifies the quota consumer tracked by this bucket.<br /><br />Must match the ConsumerRef from ResourceGrants that contribute to this bucket.<br /><br />Only one bucket exists per unique (ConsumerRef, ResourceType) combination.<br /><br />Examples:<br />- Organization "acme-corp" consuming Project quota<br />- Project "web-app" consuming User quota<br />- Organization "enterprise-corp" consuming storage quota |  | Required: \{\} <br /> |
| `resourceType` <br />_string_ | ResourceType specifies which resource type this bucket aggregates quota for.<br /><br />Must exactly match a ResourceRegistration.spec.resourceType that is currently active.<br /><br />The quota system validates this reference and only creates buckets for registered types.<br /><br />The identifier format is flexible, as defined by platform administrators<br />in their ResourceRegistrations.<br /><br />Examples:<br />- "resourcemanager.miloapis.com/projects"<br />- "compute_cpu"<br />- "storage.volumes"<br />- "custom-service-quota" |  | MaxLength: 253 <br />MinLength: 1 <br />Required: \{\} <br /> |


#### AllowanceBucketStatus



AllowanceBucketStatus contains the quota system-computed quota aggregation for a specific
(consumer, resourceType) combination. The quota system continuously updates this status
by aggregating capacity from active ResourceGrants and consumption from granted ResourceClaims.



_Appears in:_
- [AllowanceBucket](#allowancebucket)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration indicates the most recent spec generation the quota system has processed.<br /><br />When ObservedGeneration matches metadata.generation, the status reflects the current spec.<br /><br />When ObservedGeneration is lower, the quota system is still processing recent changes. |  | Optional: \{\} <br /> |
| `limit` <br />_integer_ | Limit represents the total quota capacity available for this (consumer, resourceType) combination.<br /><br />Calculated by summing all bucket amounts from active ResourceGrants that match the bucket's<br />spec.consumerRef and spec.resourceType. Measured in BaseUnit from the ResourceRegistration.<br /><br />Aggregation logic:<br />- Only ResourceGrants with status.conditions[type=Active]=True contribute to the limit<br />- All allowances matching spec.resourceType are included from contributing grants<br />- All bucket amounts within matching allowances are summed |  | Minimum: 0 <br />Required: \{\} <br /> |
| `allocated` <br />_integer_ | Allocated represents the total quota currently consumed by granted ResourceClaims.<br /><br />Calculated by summing all allocation amounts from ResourceClaims with status.conditions[type=Granted]=True<br />that match the bucket's spec.consumerRef and have requests for spec.resourceType.<br /><br />Aggregation logic:<br />- Only ResourceClaims with Granted=True contribute to allocated amount<br />- Only requests matching spec.resourceType are included<br />- All allocated amounts from matching requests are summed |  | Minimum: 0 <br />Required: \{\} <br /> |
| `available` <br />_integer_ | Available represents the quota capacity remaining for new ResourceClaims.<br /><br />Always calculated as: Available = Limit - Allocated (never negative).<br /><br />The system uses this value to determine whether new ResourceClaims can be granted.<br /><br />Decision logic:<br />- ResourceClaim is granted if requested amount &lt;= Available<br />- ResourceClaim is denied if requested amount &gt; Available<br />- Multiple concurrent claims may race; first to be processed wins |  | Minimum: 0 <br />Required: \{\} <br /> |
| `claimCount` <br />_integer_ | ClaimCount indicates the total number of granted ResourceClaims consuming quota from this bucket.<br /><br />Includes all ResourceClaims with status.conditions[type=Granted]=True that have requests<br />matching spec.resourceType and spec.consumerRef.<br /><br />Used for monitoring quota usage patterns and identifying potential issues. |  | Minimum: 0 <br />Required: \{\} <br /> |
| `grantCount` <br />_integer_ | GrantCount indicates the total number of active ResourceGrants contributing to this bucket's limit.<br /><br />Includes all ResourceGrants with status.conditions[type=Active]=True that have allowances<br />matching spec.resourceType and spec.consumerRef.<br /><br />Used for understanding quota source distribution and debugging capacity issues. |  | Minimum: 0 <br />Required: \{\} <br /> |
| `contributingGrantRefs` <br />_[ContributingGrantRef](#contributinggrantref) array_ | ContributingGrantRefs provides detailed information about each ResourceGrant that contributes<br />to this bucket's limit. Includes grant names, amounts, and last observed generations for<br />tracking and debugging quota sources.<br /><br />This field provides visibility into:<br />- Which grants are providing quota capacity<br />- How much each grant contributes<br />- Whether grants have been updated since last bucket calculation<br />Grants are tracked individually because they are typically few in number compared to claims. |  | Optional: \{\} <br /> |
| `lastReconciliation` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | LastReconciliation records when the quota system last recalculated this status.<br /><br />Used for monitoring quota system health and understanding how fresh the aggregated data is.<br /><br />The quota system updates this timestamp every time it processes the bucket, regardless of<br />whether the aggregated values changed. |  | Optional: \{\} <br /> |


#### Bucket



Bucket represents a single allocation of quota capacity within an allowance.
Each bucket contributes its amount to the total allowance for a resource type.



_Appears in:_
- [Allowance](#allowance)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `amount` <br />_integer_ | Amount specifies the quota capacity provided by this bucket.<br /><br />Must be measured in the BaseUnit defined by the corresponding ResourceRegistration.<br /><br />Must be a non-negative integer (0 is valid but provides no quota).<br /><br />Examples:<br />- 100 (providing 100 projects)<br />- 2048000 (providing 2048000 bytes = 2GB)<br />- 5000 (providing 5000 CPU millicores = 5 cores) |  | Minimum: 0 <br />Required: \{\} <br /> |


#### ClaimCreationPolicy



ClaimCreationPolicy automatically creates ResourceClaims during admission to enforce quota in real-time.
Policies intercept resource creation requests, evaluate trigger conditions, and generate
quota claims that prevent resource creation when quota limits are exceeded.

### How It Works
1. **Trigger Matching**: Admission webhook matches incoming resource creates against spec.trigger.resource
2. **Constraint Evaluation**: All CEL expressions in spec.trigger.constraints must evaluate to true
3. **Template Rendering**: Policy renders spec.target.resourceClaimTemplate using available template variables
4. **Claim Creation**: System creates the rendered ResourceClaim in the specified namespace
5. **Quota Evaluation**: Claim is immediately evaluated against AllowanceBucket capacity
6. **Admission Decision**: Original resource creation succeeds or fails based on claim result

### Policy Processing Flow
**Active Policies** (spec.disabled=false):
1. Admission webhook receives resource creation request
2. Finds all ClaimCreationPolicies matching the resource type
3. Evaluates trigger constraints for each matching policy
4. Creates ResourceClaim for each policy where all constraints are true
5. Evaluates all created claims against quota buckets
6. Allows resource creation only if all claims are granted

**Disabled Policies** (spec.disabled=true):
- Completely ignored during admission processing
- No constraints evaluated, no claims created
- Useful for temporarily disabling quota enforcement

### Template Expressions
Template expressions generate dynamic content for ResourceClaim fields including metadata and specification.
Content inside `{{ }}` delimiters is evaluated as CEL expressions, while content outside is treated as literal text.

**Template Expression Rules:**
- `{{expression}}` - Pure CEL expression, evaluated and substituted
- `literal-text` - Used as-is without any evaluation
- `{{expression}}-literal` - CEL output combined with literal text
- `prefix-{{expression}}-suffix` - Literal text surrounding CEL expression

**Template Expression Examples:**
- `{{trigger.metadata.name + '-claim'}}` - Pure CEL expression (metadata)
- `{{trigger.metadata.name}}-quota-claim` - CEL + literal suffix (metadata)
- `{{trigger.spec.organization}}` - Extract spec field for consumer name (spec)
- `{{trigger.metadata.labels["tier"] + "-tier"}}` - Label-based naming (spec)
- `fixed-claim-name` - Literal string only (no evaluation)

**Use Template Expressions For:** ResourceClaimTemplate fields (metadata and spec)

### Constraint Expressions
Constraint expressions determine whether a policy should trigger by evaluating boolean conditions.
These are pure CEL expressions without delimiters that must return true/false values.

**Constraint Expression Rules:**
- Write pure CEL expressions directly (no wrapping syntax)
- Must return boolean values (true = trigger policy, false = skip)
- All constraints in a policy must return true for the policy to activate

**Constraint Expression Examples:**
- `trigger.spec.tier == "premium"` - Field equality check
- `trigger.metadata.labels["environment"] == "prod"` - Label-based filtering
- `user.groups.exists(g, g == "admin")` - User authorization check
- `has(trigger.spec.quotaProfile)` - Field existence check

**Use Constraint Expressions For:** spec.trigger.constraints fields

### Expression Variables
Both template and constraint expressions have access to the same context variables:

**trigger**: The complete resource that triggered the policy, including all metadata, spec,
and status fields. Navigate using CEL property access: `trigger.metadata.name`, `trigger.spec.replicas`.

**user**: Authentication context providing access to the requester's name, unique identifier,
group memberships, and additional attributes. Enables user-based quota policies.

**requestInfo**: Operational context including the API verb being performed and resource type
being manipulated. Useful for distinguishing between create, update, and delete operations.

**CEL Functions**: Standard CEL functions available for data manipulation including conditional
expressions (`condition ? value1 : value2`), string methods (`lowerAscii()`, `upperAscii()`, `trim()`),
and collection operations (`exists()`, `all()`, `filter()`).

### Consumer Resolution
The system automatically resolves spec.consumerRef for created claims:
- Uses parent context resolution to find the appropriate consumer
- Typically resolves to Organization for Project resources, Project for User resources, etc.
- Consumer must match the ResourceRegistration.spec.consumerType for the requested resource type

### Validation and Dependencies
**Policy Validation:**
- Target resource type must exist and be accessible
- All resource types in claim specification must have active ResourceRegistrations
- Consumer resolution must be resolvable for target resources
- CEL expressions must be syntactically valid

**Runtime Dependencies:**
- ResourceRegistration must be Active for each requested resource type
- Triggering resource kind must be listed in ResourceRegistration.spec.claimingResources
- AllowanceBucket must exist (created automatically when ResourceGrants are active)

### Policy Lifecycle
1. **Creation**: Administrator creates ClaimCreationPolicy
2. **Validation**: System validates target resource and expressions
3. **Activation**: System sets Ready=True when validation passes
4. **Operation**: Admission webhook uses active policies to create claims
5. **Updates**: Changes trigger re-validation; only Ready policies are used

### Status Conditions
- **Ready=True**: Policy is validated and actively creating claims
- **Ready=False, reason=ValidationFailed**: Configuration errors prevent activation (check message)
- **Ready=False, reason=PolicyDisabled**: Policy is disabled (spec.disabled=true)

### Automatic Claim Features
Claims created by ClaimCreationPolicy include:
- **Standard Labels**: quota.miloapis.com/auto-created=true, quota.miloapis.com/policy=&lt;policy-name&gt;
- **Standard Annotations**: quota.miloapis.com/created-by=claim-creation-plugin, timestamps
- **Owner References**: Set to triggering resource when possible for lifecycle management
- **Cleanup**: Automatically cleaned up when denied to prevent accumulation

### Field Constraints and Limits
- Maximum 10 constraints per trigger (spec.trigger.constraints)
- Static amounts only in v1alpha1 (no expression-based quota amounts)
- Template metadata labels are literal strings (no expression processing)
- Template annotation values support CEL expressions

### Selectors and Filtering
- **Field selectors**: spec.trigger.resource.kind, spec.trigger.resource.apiVersion, spec.disabled
- **Recommended labels** (add manually):
  - quota.miloapis.com/target-kind: Project
  - quota.miloapis.com/environment: production
  - quota.miloapis.com/tier: premium

### Common Queries
- All policies for a resource kind: label selector quota.miloapis.com/target-kind=&lt;kind&gt;
- Active policies only: field selector spec.disabled=false
- Environment-specific policies: label selector quota.miloapis.com/environment=&lt;env&gt;
- Failed policies: filter by status.conditions[type=Ready].status=False

### Troubleshooting
- **Policy not triggering**: Check spec.disabled=false and status.conditions[type=Ready]=True
- **Template errors**: Review status condition message for CEL expression syntax issues
- **CEL expression failures**: Validate expression syntax and available variables
- **Claims not created**: Verify trigger constraints match the incoming resource
- **Consumer resolution errors**: Check parent context resolution and ResourceRegistration setup

### Performance Considerations
- Policies are evaluated synchronously during admission (affects API latency)
- Complex CEL expressions can impact admission performance
- Template rendering occurs for every matching admission request
- Consider using specific trigger constraints to limit policy evaluation scope

### Security Considerations
- Templates can access complete trigger resource data (sensitive field exposure)
- CEL expressions have access to user information and request details
- Only trusted administrators should create or modify policies
- Review template output to ensure no sensitive data leakage in claim metadata



_Appears in:_
- [ClaimCreationPolicyList](#claimcreationpolicylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ClaimCreationPolicy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ClaimCreationPolicySpec](#claimcreationpolicyspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ClaimCreationPolicyStatus](#claimcreationpolicystatus)_ |  |  |  |


#### ClaimCreationPolicyList



ClaimCreationPolicyList contains a list of ClaimCreationPolicy.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ClaimCreationPolicyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ClaimCreationPolicy](#claimcreationpolicy) array_ |  |  |  |


#### ClaimCreationPolicySpec



ClaimCreationPolicySpec defines the desired state of ClaimCreationPolicy.



_Appears in:_
- [ClaimCreationPolicy](#claimcreationpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `trigger` <br />_[ClaimTriggerSpec](#claimtriggerspec)_ | Trigger defines what resource changes should trigger claim creation. |  | Required: \{\} <br /> |
| `target` <br />_[ClaimTargetSpec](#claimtargetspec)_ | Target defines how and where **ResourceClaims** should be created. |  | Required: \{\} <br /> |
| `disabled` <br />_boolean_ | Disabled determines if this policy is inactive.<br /><br />If true, no **ResourceClaims** will be created for matching resources. | false |  |


#### ClaimCreationPolicyStatus



ClaimCreationPolicyStatus defines the observed state of ClaimCreationPolicy.

Status fields
- conditions[type=Ready]: True when the policy is validated and active.

See also
- [ResourceClaim](#resourceclaim): The object created by this policy.



_Appears in:_
- [ClaimCreationPolicy](#claimcreationpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of the policy's current state. |  |  |


#### ClaimTargetSpec



ClaimTargetSpec defines how **ResourceClaims** are created for a matched trigger.



_Appears in:_
- [ClaimCreationPolicySpec](#claimcreationpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resourceClaimTemplate` <br />_[ResourceClaimTemplate](#resourceclaimtemplate)_ | ResourceClaimTemplate defines how to create **ResourceClaims**.<br /><br />String fields support CEL expressions for dynamic content. |  | Required: \{\} <br /> |


#### ClaimTriggerResource



ClaimTriggerResource identifies the resource type that triggers this policy.



_Appears in:_
- [ClaimTriggerSpec](#claimtriggerspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | APIVersion of the trigger resource in the format "group/version" or "version" for core resources.<br /><br />Examples: "v1" for core resources like Secret, "resourcemanager.miloapis.com/v1alpha1" for custom resources. |  | Pattern: `^(v[0-9]+((alpha\|beta)[0-9]*)?\|[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/v[0-9]+((alpha\|beta)[0-9]*)?)$` <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind is the kind of the trigger resource. |  | MinLength: 1 <br />Required: \{\} <br /> |


#### ClaimTriggerSpec



ClaimTriggerSpec defines the resource type and optional conditions for triggering claim creation.



_Appears in:_
- [ClaimCreationPolicySpec](#claimcreationpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resource` <br />_[ClaimTriggerResource](#claimtriggerresource)_ | Resource specifies which resource type triggers this policy. |  | Required: \{\} <br /> |
| `constraints` <br />_[ConditionExpression](#conditionexpression) array_ | Constraints are CEL expressions that must evaluate to true for claim creation to occur.<br /><br />These are pure CEL expressions WITHOUT \{\{ \}\} delimiters (unlike template fields).<br /><br />Evaluated in the admission context. |  | MaxItems: 10 <br /> |


#### ClaimingResource



ClaimingResource identifies a resource type that can create **ResourceClaims**
for this registration. Uses unversioned references to remain valid across API version changes.



_Appears in:_
- [ResourceRegistrationSpec](#resourceregistrationspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup specifies the API group of the resource that can create claims.<br /><br />Use empty string for Kubernetes core resources (**Secret**, **ConfigMap**, etc.).<br /><br />Use full group name for custom resources.<br /><br />Examples:<br />- `""` (core resources like **Secret**, **ConfigMap**)<br />- `resourcemanager.miloapis.com` (custom resource group)<br />- `iam.miloapis.com` (Milo IAM resources) |  | Optional: \{\} <br />Pattern: `^$\|^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$` <br /> |
| `kind` <br />_string_ | Kind specifies the resource type that can create **ResourceClaims** for this registration.<br /><br />Must match an existing resource type. Maximum 63 characters.<br /><br />Examples:<br />- `Project` (**Project** resource creating claims for **Project** quota)<br />- `User` (**User** resource creating claims for **User** quota)<br />- `Organization` (**Organization** resource creating claims for **Organization** quota) |  | MaxLength: 63 <br />MinLength: 1 <br />Required: \{\} <br /> |


#### ConditionExpression



ConditionExpression defines a CEL expression that determines when the policy should trigger.
All expressions in a policy's trigger conditions must evaluate to true for the policy to activate.



_Appears in:_
- [ClaimTriggerSpec](#claimtriggerspec)
- [GrantTriggerSpec](#granttriggerspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `expression` <br />_string_ | Expression specifies the CEL expression to evaluate against the trigger resource.<br /><br />This is a pure CEL expression WITHOUT \{\{ \}\} delimiters (unlike template fields).<br /><br />Must return a boolean value (true to match, false to skip).<br /><br />Maximum 1024 characters.<br /><br />Available variables in GrantCreationPolicy context:<br />- trigger: The complete resource being watched (map[string]any)<br />  - trigger.metadata.name, trigger.spec.*, trigger.status.*, etc.<br /><br />Common expression patterns:<br />- trigger.spec.tier == "premium" (check resource field)<br />- trigger.metadata.labels["environment"] == "prod" (check labels)<br />- trigger.status.phase == "Active" (check status)<br />- trigger.metadata.namespace == "production" (check namespace)<br />- has(trigger.spec.quotaProfile) (check field existence) |  | MaxLength: 1024 <br />MinLength: 1 <br />Required: \{\} <br /> |
| `message` <br />_string_ | Message provides a human-readable description explaining when this condition applies.<br /><br />Used for documentation and debugging. Maximum 256 characters.<br /><br />Examples:<br />- "Applies only to premium tier organizations"<br />- "Matches organizations in production environment"<br />- "Triggers when quota profile is specified" |  | MaxLength: 256 <br /> |


#### ConsumerRef



ConsumerRef identifies a quota consumer - the entity that receives quota grants
and creates quota claims. Consumers are typically hierarchical (Organization > Project > User).



_Appears in:_
- [Allocation](#allocation)
- [AllowanceBucketSpec](#allowancebucketspec)
- [ResourceClaimSpec](#resourceclaimspec)
- [ResourceGrantSpec](#resourcegrantspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup specifies the API group of the consumer resource.<br /><br />Use full group name for Milo resources.<br /><br />Examples:<br />- "resourcemanager.miloapis.com" (Organization/Project resources)<br />- "iam.miloapis.com" (User/Group resources)<br />- "infrastructure.miloapis.com" (infrastructure resources) |  | Optional: \{\} <br /> |
| `kind` <br />_string_ | Kind specifies the type of consumer resource.<br /><br />Must match an existing Kubernetes resource type that can receive quota grants.<br /><br />Common consumer types:<br />- "Organization" (top-level quota consumer)<br />- "Project" (project-level quota consumer)<br />- "User" (user-level quota consumer) |  | Required: \{\} <br /> |
| `name` <br />_string_ | Name identifies the specific consumer resource instance.<br /><br />Must match the name of an existing consumer resource in the cluster.<br /><br />Examples:<br />- "acme-corp" (Organization name)<br />- "web-application" (Project name)<br />- "john.doe" (User name) |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace identifies the namespace of the consumer resource.<br /><br />Required for namespaced consumer resources (e.g., Projects).<br /><br />Leave empty for cluster-scoped consumer resources (e.g., Organizations).<br /><br />Examples:<br />- "" (empty for cluster-scoped Organizations)<br />- "organization-acme-corp" (namespace for Projects within an organization)<br />- "project-web-app" (namespace for resources within a project) |  | Optional: \{\} <br /> |


#### ConsumerType



ConsumerType identifies the resource type that consumes quota.
The consumer receives **ResourceGrants** and creates **ResourceClaims** for the registered resource.
For example, when registering "Projects per Organization", **Organization** is the consumer type.



_Appears in:_
- [ResourceRegistrationSpec](#resourceregistrationspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup specifies the API group of the quota consumer resource type.<br /><br />Use empty string for Kubernetes core resources (**Secret**, **ConfigMap**, etc.).<br /><br />Use full group name for custom resources (for example, `resourcemanager.miloapis.com`).<br /><br />Must follow DNS subdomain format with lowercase letters, numbers, and hyphens.<br /><br />Examples:<br />- `resourcemanager.miloapis.com` (**Organizations**, **Projects**)<br />- `iam.miloapis.com` (**Users**, **Groups**)<br />- `infrastructure.miloapis.com` (custom infrastructure resources) |  | Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$` <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind specifies the resource type that receives quota grants and creates quota claims.<br /><br />Must match an existing Kubernetes resource type (core or custom).<br /><br />Use the exact Kind name as defined in the resource's schema.<br /><br />Examples:<br />- **Organization** (receives **Project** quotas)<br />- **Project** (receives **User** quotas)<br />- **User** (receives resource quotas within projects) |  | Required: \{\} <br /> |


#### ContributingGrantRef



ContributingGrantRef tracks a ResourceGrant that contributes capacity to this bucket.
The quota system maintains these references to provide visibility into quota sources
and to detect when grants change.



_Appears in:_
- [AllowanceBucketStatus](#allowancebucketstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name identifies the ResourceGrant that contributes to this bucket's limit.<br /><br />Used for tracking quota sources and debugging allocation issues. |  | Required: \{\} <br /> |
| `lastObservedGeneration` <br />_integer_ | LastObservedGeneration records the ResourceGrant's generation when the bucket<br />quota system last processed it. Used to detect when grants have been updated<br />and the bucket needs to recalculate its aggregated limit. |  | Required: \{\} <br /> |
| `amount` <br />_integer_ | Amount specifies how much quota capacity this grant contributes to the bucket.<br /><br />Represents the sum of all buckets within all allowances for the matching<br />resource type in the referenced grant. Measured in BaseUnit. |  | Minimum: 0 <br />Required: \{\} <br /> |




#### GrantCreationPolicy



GrantCreationPolicy automates ResourceGrant creation when observed resources meet conditions.
Use it to provision quota based on resource lifecycle events and attributes.

### How It Works
- Watch the kind in `spec.trigger.resource` and evaluate all `spec.trigger.constraints[]`.
- When all constraints are true, evaluate `spec.target.resourceGrantTemplate` and create a `ResourceGrant`.
- Optionally target a parent control plane via `spec.target.parentContext` (CEL-resolved name) for cross-cluster allocation.
- Allowances (resource types and amounts) are static in `v1alpha1`.

### Template Expressions
Template expressions generate dynamic content for ResourceGrant fields including metadata and specification.
Content inside `{{ }}` delimiters is evaluated as CEL expressions, while content outside is treated as literal text.

**Template Expression Rules:**
- `{{expression}}` - Pure CEL expression, evaluated and substituted
- `literal-text` - Used as-is without any evaluation
- `{{expression}}-literal` - CEL output combined with literal text
- `prefix-{{expression}}-suffix` - Literal text surrounding CEL expression

**Template Expression Examples:**
- `{{trigger.metadata.name + '-grant'}}` - Pure CEL expression (metadata)
- `{{trigger.metadata.name}}-quota-grant` - CEL + literal suffix (metadata)
- `{{trigger.spec.type + "-consumer"}}` - Extract spec field for consumer name (spec)
- `{{trigger.metadata.labels["environment"] + "-grants"}}` - Label-based naming (spec)
- `fixed-grant-name` - Literal string only (no evaluation)

**Use Template Expressions For:** ResourceGrantTemplate fields (metadata and spec)

### Constraint Expressions
Constraint expressions determine whether a policy should trigger by evaluating boolean conditions.
These are pure CEL expressions without delimiters that must return true/false values.

**Constraint Expression Rules:**
- Write pure CEL expressions directly (no wrapping syntax)
- Must return boolean values (true = trigger policy, false = skip)
- All constraints in a policy must return true for the policy to activate

**Constraint Expression Examples:**
- `trigger.spec.tier == "premium"` - Field equality check
- `trigger.metadata.labels["environment"] == "prod"` - Label-based filtering
- `trigger.status.phase == "Active"` - Status condition check
- `has(trigger.spec.quotaProfile)` - Field existence check

**Use Constraint Expressions For:** spec.trigger.constraints fields

### Expression Variables
Both template and constraint expressions have access to the resource context variables:

**trigger**: The complete resource that triggered the policy, including all metadata, spec,
and status fields. Navigate using CEL property access: `trigger.metadata.name`, `trigger.spec.tier`.
This is the only variable available since GrantCreationPolicy runs during resource watching,
not during admission processing.

**CEL Functions**: Standard CEL functions available for data manipulation including conditional
expressions (`condition ? value1 : value2`), string methods (`lowerAscii()`, `upperAscii()`, `trim()`),
and collection operations (`exists()`, `all()`, `filter()`).

### Works With
- Creates [ResourceGrant](#resourcegrant) objects whose `allowances[].resourceType` must exist in a [ResourceRegistration](#resourceregistration).
- May target a parent control plane via `spec.target.parentContext` for cross-plane quota allocation.
- Policy readiness (`status.conditions[type=Ready]`) signals expression/constraint validity.

### Status
- `status.conditions[type=Ready]`: Policy validated and active.
- `status.conditions[type=ParentContextReady]`: Cross‑cluster targeting is resolvable.
- `status.observedGeneration`: Latest spec generation processed.

### Selectors and Filtering
  - Field selectors (server-side):
    `spec.trigger.resource.kind`, `spec.trigger.resource.apiVersion`,
    `spec.target.parentContext.kind`, `spec.target.parentContext.apiGroup`.
  - Label selectors (add your own):
  - `quota.miloapis.com/trigger-kind`: `Organization`
  - `quota.miloapis.com/environment`: `prod`
  - Common queries:
  - All policies for a trigger kind: label selector `quota.miloapis.com/trigger-kind`.
  - All active policies: field selector `spec.disabled=false`.

### Defaults and Limits
- Resource grant allowances are static (no expression-based amounts) in `v1alpha1`.

### Notes
- If `ParentContextReady=False`, verify `nameExpression` and referenced attributes.
- Disabled policies (`spec.disabled=true`) do not create grants.

### See Also
- [ResourceGrant](#resourcegrant): The object created by this policy.
- [ResourceRegistration](#resourceregistration): Resource types that grants must reference.
- [ClaimCreationPolicy](#claimcreationpolicy): Creates claims at admission for enforcement.



_Appears in:_
- [GrantCreationPolicyList](#grantcreationpolicylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `GrantCreationPolicy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[GrantCreationPolicySpec](#grantcreationpolicyspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[GrantCreationPolicyStatus](#grantcreationpolicystatus)_ |  |  |  |


#### GrantCreationPolicyList



GrantCreationPolicyList contains a list of GrantCreationPolicy.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `GrantCreationPolicyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[GrantCreationPolicy](#grantcreationpolicy) array_ |  |  |  |


#### GrantCreationPolicySpec



GrantCreationPolicySpec defines the desired state of GrantCreationPolicy.



_Appears in:_
- [GrantCreationPolicy](#grantcreationpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `trigger` <br />_[GrantTriggerSpec](#granttriggerspec)_ | Trigger defines what resource changes should trigger grant creation. |  | Required: \{\} <br /> |
| `target` <br />_[GrantTargetSpec](#granttargetspec)_ | Target defines where and how grants should be created. |  | Required: \{\} <br /> |
| `disabled` <br />_boolean_ | Disabled determines if this policy is inactive.<br /><br />If true, no **ResourceGrants** will be created for matching resources. | false |  |


#### GrantCreationPolicyStatus



GrantCreationPolicyStatus defines the observed state of GrantCreationPolicy.

Status fields
- conditions[type=Ready]: True when the policy is validated and active.
- conditions[type=ParentContextReady]: True when cross‑cluster targeting is resolvable.
- observedGeneration: Latest spec generation processed by the quota system.

See also
- [ResourceGrant](#resourcegrant): The object created by this policy.
- [ResourceRegistration](#resourceregistration): Resource types for which grants are issued.



_Appears in:_
- [GrantCreationPolicy](#grantcreationpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the latest available observations of the policy's current state. |  |  |


#### GrantParentContextSpec



GrantParentContextSpec enables cross-cluster grant creation by targeting a parent control plane.
Used to create grants in infrastructure clusters when policies run in child clusters.



_Appears in:_
- [GrantTargetSpec](#granttargetspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup specifies the API group of the parent context resource.<br /><br />Must follow DNS subdomain format. Maximum 253 characters.<br /><br />Examples:<br />- "resourcemanager.miloapis.com" (for Organization parent context)<br />- "infrastructure.miloapis.com" (for Cluster parent context) |  | MaxLength: 253 <br />Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$` <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind specifies the resource type that represents the parent context.<br /><br />Must be a valid Kubernetes resource Kind. Maximum 63 characters.<br /><br />Examples:<br />- "Organization" (create grants in organization's parent control plane)<br />- "Cluster" (create grants in cluster's parent infrastructure) |  | MaxLength: 63 <br />MinLength: 1 <br />Pattern: `^[A-Z][a-zA-Z0-9]*$` <br />Required: \{\} <br /> |
| `nameExpression` <br />_string_ | NameExpression is a CEL expression that resolves the name of the parent context resource.<br /><br />Must return a string value that identifies the specific parent context instance.<br /><br />Maximum 512 characters.<br /><br />Available variables:<br />- object: The trigger resource being evaluated (complete object)<br />Common expression patterns:<br />- object.spec.organization (direct field reference)<br />- object.metadata.labels["parent-org"] (label-based resolution)<br />- object.metadata.namespace.split("-")[0] (derived from namespace naming)<br />Examples:<br />- "acme-corp" (literal parent name)<br />- object.spec.parentOrganization (field from trigger resource)<br />- object.metadata.labels["quota.miloapis.com/organization"] (label value) |  | MaxLength: 512 <br />MinLength: 1 <br />Required: \{\} <br /> |


#### GrantTargetSpec



GrantTargetSpec defines where and how grants are created.



_Appears in:_
- [GrantCreationPolicySpec](#grantcreationpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `parentContext` <br />_[GrantParentContextSpec](#grantparentcontextspec)_ | ParentContext defines cross-control-plane targeting.<br /><br />If specified, grants will be created in the target parent context<br />instead of the current control plane. |  |  |
| `resourceGrantTemplate` <br />_[ResourceGrantTemplate](#resourcegranttemplate)_ | ResourceGrantTemplate defines how to create **ResourceGrants**.<br /><br />String fields support CEL expressions wrapped in \{\{ \}\} delimiters for dynamic content.<br /><br />Plain strings without \{\{ \}\} are treated as literal values. |  | Required: \{\} <br /> |


#### GrantTriggerResource



GrantTriggerResource identifies the resource type that triggers grant creation.



_Appears in:_
- [GrantTriggerSpec](#granttriggerspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | APIVersion of the trigger resource in the format "group/version".<br /><br />For core resources, use "v1". |  | Pattern: `^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*\/)?v[0-9]+((alpha\|beta)[0-9]*)?$` <br />Required: \{\} <br /> |
| `kind` <br />_string_ | Kind is the kind of the trigger resource. |  | MaxLength: 63 <br />MinLength: 1 <br />Pattern: `^[A-Z][a-zA-Z0-9]*$` <br />Required: \{\} <br /> |


#### GrantTriggerSpec



GrantTriggerSpec defines the resource and conditions that trigger grant creation.



_Appears in:_
- [GrantCreationPolicySpec](#grantcreationpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resource` <br />_[GrantTriggerResource](#granttriggerresource)_ | Resource specifies which resource type triggers this policy. |  | Required: \{\} <br /> |
| `constraints` <br />_[ConditionExpression](#conditionexpression) array_ | Constraints are CEL expressions that must evaluate to true for grant creation.<br /><br />These are pure CEL expressions WITHOUT \{\{ \}\} delimiters (unlike template fields).<br /><br />All constraints must pass for the policy to trigger.<br /><br />The 'object' variable contains the trigger resource being evaluated. |  | MaxItems: 10 <br /> |


#### ObjectMetaTemplate



ObjectMetaTemplate defines metadata fields that support template rendering for created objects.
Templates can access trigger resource data to generate dynamic names, namespaces, and annotations.



_Appears in:_
- [ResourceClaimTemplate](#resourceclaimtemplate)
- [ResourceGrantTemplate](#resourcegranttemplate)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name specifies the exact name for the created ResourceClaim.<br /><br />Supports CEL expressions wrapped in \{\{ \}\} delimiters with access to template variables.<br /><br />Leave empty to use GenerateName for auto-generated names.<br /><br />CEL Expression Syntax: CEL expressions must be enclosed in double curly braces \{\{ \}\}.<br /><br />Plain strings without \{\{ \}\} are treated as literal values.<br /><br />Template variables available:<br />- trigger: The resource triggering claim creation<br />- requestInfo: Request details (verb, resource, name, etc.)<br />- user: User information (name, uid, groups, extra)<br />Examples:<br />- "\{\{trigger.metadata.name + '-quota-claim'\}\}" (CEL expression)<br />- "\{\{trigger.metadata.name\}\}-claim" (CEL + literal)<br />- "fixed-claim-name" (literal string) |  |  |
| `generateName` <br />_string_ | GenerateName specifies a prefix for auto-generated names when Name is empty.<br /><br />Kubernetes appends random characters to create unique names.<br /><br />Supports CEL expressions wrapped in \{\{ \}\} delimiters.<br /><br />Examples:<br />- "\{\{trigger.spec.type + '-claim-'\}\}" (CEL expression)<br />- "\{\{trigger.spec.type\}\}-claim-" (CEL + literal)<br />- "quota-claim-" (literal string) |  |  |
| `namespace` <br />_string_ | Namespace specifies where the ResourceClaim will be created.<br /><br />Supports CEL expressions wrapped in \{\{ \}\} delimiters to derive namespace from trigger resource.<br /><br />Leave empty to create in the same namespace as the trigger resource.<br /><br />Examples:<br />- "\{\{trigger.metadata.namespace\}\}" (CEL: same namespace as trigger)<br />- "milo-system" (literal: fixed system namespace)<br />- "\{\{trigger.spec.organization + '-claims'\}\}" (CEL: derived namespace) |  |  |
| `labels` <br />_object (keys:string, values:string)_ | Labels specifies static labels to apply to the created ResourceClaim.<br /><br />Values are literal strings (no template processing).<br /><br />The system automatically adds standard labels for policy tracking.<br /><br />Useful for:<br />- Organizing claims by policy or resource type<br />- Adding environment or tier indicators<br />- Enabling label-based queries and monitoring |  |  |
| `annotations` <br />_object (keys:string, values:string)_ | Annotations specifies annotations to apply to the created ResourceClaim.<br /><br />Values support CEL expressions wrapped in \{\{ \}\} delimiters for dynamic content.<br /><br />The system automatically adds standard annotations for tracking.<br /><br />Template variables available:<br />- trigger: The resource triggering claim creation<br />- requestInfo: Request details<br />- user: User information<br />Examples:<br />- created-for: "\{\{trigger.metadata.name\}\}" (CEL expression)<br />- requested-by: "\{\{user.name\}\}" (CEL expression)<br />- environment: "production" (literal string) |  |  |


#### ResourceClaim



ResourceClaim requests quota allocation during resource creation. Claims
consume quota capacity from AllowanceBuckets and link to the triggering
Kubernetes resource for lifecycle management and auditing.

### How It Works

**ResourceClaims** follow a straightforward lifecycle from creation to
resolution. When a **ClaimCreationPolicy** triggers during admission, it
creates a **ResourceClaim** that immediately enters the quota evaluation
pipeline. The quota system first validates that the consumer type matches the
expected `ConsumerType` from the **ResourceRegistration**, then verifies
that the triggering resource kind is authorized to claim the requested
resource types.

Once validation passes, the quota system checks quota availability by
consulting the relevant **AllowanceBuckets**, one for each (consumer,
resourceType) combination in the claim's requests. The quota system treats
all requests in a claim as an atomic unit: either sufficient quota exists for
every request and the entire claim is granted, or any shortage results in
denying the complete claim. This atomic approach ensures consistency and
prevents partial resource allocations that could leave the system in an
inconsistent state.

When a claim is granted, it permanently reserves the requested quota amounts
until the claim is deleted. This consumption immediately reduces the
available quota in the corresponding **AllowanceBuckets**, preventing other
claims from accessing that capacity. The quota system updates the claim's
status with detailed results for each resource request, including which
**AllowanceBucket** provided the quota and any relevant error messages.

### Core Relationships

  - **Created by**: **ClaimCreationPolicy** during admission (automatically) or
    administrators (manually)
  - **Consumes from**: **AllowanceBucket** matching
    (`spec.consumerRef`, `spec.requests[].resourceType`)
  - **Capacity sourced from**: **ResourceGrant** objects aggregated by the bucket
  - **Linked to**: Triggering resource via `spec.resourceRef` for lifecycle management
  - **Validated against**: **ResourceRegistration** for each `spec.requests[].resourceType`

### Claim Lifecycle States

  - **Initial**: `Granted=False`, `reason=PendingEvaluation` (claim created, awaiting processing)
  - **Granted**: `Granted=True`, `reason=QuotaAvailable` (all requests allocated successfully)
  - **Denied**: `Granted=False`, `reason=QuotaExceeded` or `ValidationFailed` (requests could not be satisfied)

### Automatic vs Manual Claims

**Automatic Claims** (created by **ClaimCreationPolicy**):

  - Include standard labels and annotations for tracking
  - Set owner references to triggering resource when possible
  - Automatically cleaned up when denied to prevent accumulation
  - Marked with `quota.miloapis.com/auto-created=true` label

**Manual Claims** (created by administrators):

  - Require explicit metadata and references
  - Not automatically cleaned up when denied
  - Used for testing or special allocation scenarios

### Status Information

  - **Overall Status**: `status.conditions[type=Granted]` indicates claim approval
  - **Detailed Results**: `status.allocations[]` provides per-request allocation details
  - **Bucket References**: `status.allocations[].allocatingBucket` identifies quota sources

### Field Constraints and Validation

  - Maximum 20 resource requests per claim
  - Each resource type can appear only once in requests
  - Consumer type must match `ResourceRegistration.spec.consumerType` for each requested type
  - Triggering resource kind must be listed in `ResourceRegistration.spec.claimingResources`

### Selectors and Filtering

  - **Field selectors**: spec.consumerRef.kind, spec.consumerRef.name, spec.resourceRef.apiGroup, spec.resourceRef.kind, spec.resourceRef.name, spec.resourceRef.namespace
  - **Auto-created labels**: quota.miloapis.com/auto-created, quota.miloapis.com/policy, quota.miloapis.com/gvk
  - **Auto-created annotations**: quota.miloapis.com/created-by, quota.miloapis.com/created-at,  quota.miloapis.com/resource-name

### Common Queries

  - All claims for a consumer: field selector spec.consumerRef.kind + spec.consumerRef.name
  - Claims from a specific policy: label selector quota.miloapis.com/policy=&lt;policy-name&gt;
  - Claims for a resource type: add custom labels via policy template
  - Failed claims: field  selector on status conditions

### Troubleshooting

  - **Denied claims**: Check status.allocations[].message for specific quota or validation errors
  - **Pending claims**: Verify ResourceRegistration is Active and AllowanceBucket exists
  - **Missing claims**: Check ClaimCreationPolicy conditions and trigger expressions

### Performance Considerations

  - Claims are processed synchronously during admission (affects API latency)
  - Large numbers of claims can impact bucket aggregation performance
  - Consider batch processing for bulk resource creation



_Appears in:_
- [ResourceClaimList](#resourceclaimlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceClaim` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ResourceClaimSpec](#resourceclaimspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ResourceClaimStatus](#resourceclaimstatus)_ |  | \{ conditions:[map[lastTransitionTime:1970-01-01T00:00:00Z message:Awaiting capacity evaluation reason:PendingEvaluation status:False type:Granted]] \} |  |


#### ResourceClaimAllocationStatus



ResourceClaimAllocationStatus tracks the allocation status for a specific resource
request within a claim. The system creates one allocation entry for each
request in the claim specification.



_Appears in:_
- [ResourceClaimStatus](#resourceclaimstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resourceType` <br />_string_ | ResourceType identifies which resource request this allocation status<br />describes. Must exactly match one of the resourceType values in<br />spec.requests. |  | MinLength: 1 <br />Required: \{\} <br /> |
| `status` <br />_string_ | Status indicates the allocation result for this specific resource request.<br /><br />Valid values:<br />  - "Granted": Quota was available and the request was approved<br />  - "Denied": Insufficient quota or validation failure prevented allocation<br />  - "Pending": Request is being evaluated (initial state) |  | Enum: [Granted Denied Pending] <br />Required: \{\} <br /> |
| `reason` <br />_string_ | Reason provides a machine-readable explanation for the current status.<br /><br />Standard reasons include "QuotaAvailable", "QuotaExceeded",<br />"ValidationFailed". |  | Optional: \{\} <br /> |
| `message` <br />_string_ | Message provides a human-readable explanation of the allocation result.<br /><br />Includes specific details about quota availability or validation errors.<br /><br />Examples:<br />  - "Allocated 1 project from bucket organization-acme-projects"<br />  - "Insufficient quota: need 2048 bytes, only 1024 available"<br />  - "ResourceRegistration not found for resourceType" |  | Optional: \{\} <br /> |
| `allocatedAmount` <br />_integer_ | AllocatedAmount specifies how much quota was actually allocated for this<br />request. Measured in the BaseUnit defined by the ResourceRegistration.<br /><br />Currently always equals the requested amount or 0 (partial allocations not<br />supported).<br /><br />Set to the requested amount when Status=Granted, 0 when Status=Denied or<br />Pending. |  | Minimum: 0 <br />Optional: \{\} <br /> |
| `allocatingBucket` <br />_string_ | AllocatingBucket identifies the AllowanceBucket that provided the quota for<br />this request. Set only when Status=Granted. Used for tracking and debugging<br />quota consumption.<br /><br />Format: bucket name (generated as:<br />consumer-kind-consumer-name-resource-type-hash) |  | Optional: \{\} <br /> |
| `lastTransitionTime` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | LastTransitionTime records when this allocation status last changed.<br /><br />Updates whenever Status, Reason, or Message changes. |  | Required: \{\} <br /> |


#### ResourceClaimList



ResourceClaimList contains a list of ResourceClaim.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceClaimList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ResourceClaim](#resourceclaim) array_ |  |  |  |


#### ResourceClaimSpec



ResourceClaimSpec defines the desired state of ResourceClaim.



_Appears in:_
- [ResourceClaim](#resourceclaim)
- [ResourceClaimTemplate](#resourceclaimtemplate)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `consumerRef` <br />_[ConsumerRef](#consumerref)_ | ConsumerRef identifies the quota consumer making this claim. The consumer<br />must match the ConsumerType defined in the ResourceRegistration for each<br />requested resource type. The system validates this relationship during<br />claim processing.<br /><br />When creating ResourceClaims via ClaimCreationPolicy, this field can be<br />omitted and the admission plugin will automatically fill it based on the<br />authenticated user's context (organization or project).<br /><br />Examples:<br />  - Organization consuming Project quota<br />  - Project consuming User quota<br />  - Organization consuming storage quota |  | Optional: \{\} <br /> |
| `requests` <br />_[ResourceRequest](#resourcerequest) array_ | Requests specifies the resource types and amounts being claimed from quota.<br /><br />Each resource type can appear only once in the requests array. Minimum 1<br />request, maximum 20 requests per claim.<br /><br />The system processes all requests as a single atomic operation: either all<br />requests are granted or all are denied. |  | MaxItems: 20 <br />MinItems: 1 <br />Required: \{\} <br /> |
| `resourceRef` <br />_[UnversionedObjectReference](#unversionedobjectreference)_ | ResourceRef identifies the actual Kubernetes resource that triggered this<br />claim. ClaimCreationPolicy automatically populates this field during<br />admission. Uses unversioned reference (apiGroup + kind + name + namespace)<br />to remain valid across API version changes.<br /><br />The referenced resource's kind must be listed in the ResourceRegistration's<br />spec.claimingResources for the claim to be valid.<br /><br />Examples:<br />  - Project resource triggering Project quota claim<br />  - User resource triggering User quota claim<br />  - Organization resource triggering storage quota claim |  |  |


#### ResourceClaimStatus



ResourceClaimStatus reports the claim's processing state and allocation
results. The system updates this status to communicate whether quota was
granted and provide detailed allocation information for each requested
resource type.



_Appears in:_
- [ResourceClaim](#resourceclaim)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration indicates the most recent spec generation the system has<br />processed. When ObservedGeneration matches metadata.generation, the status<br />reflects the current spec. When ObservedGeneration is lower, the system is<br />still processing recent changes. |  | Optional: \{\} <br /> |
| `allocations` <br />_[ResourceClaimAllocationStatus](#resourceclaimallocationstatus) array_ | Allocations provides detailed status for each resource request in the<br />claim. The system creates one allocation entry for each request in<br />spec.requests. Use this field to understand which specific requests were<br />granted or denied.<br /><br />List is indexed by ResourceType for efficient lookups. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represents the overall status of the claim evaluation.<br /><br />Controllers set these conditions to provide a high-level view of claim<br />processing.<br /><br />Standard condition types:<br />  - "Granted": Indicates whether the claim was approved and quota allocated<br />Standard condition reasons for "Granted":<br />  - "QuotaAvailable": All requested quota was available and allocated<br />  - "QuotaExceeded": Insufficient quota prevented allocation (claim denied)<br />  - "ValidationFailed": Configuration errors prevented evaluation (claim denied)<br />  - "PendingEvaluation": Claim is still being processed (initial state)<br />Claim Lifecycle:<br />  1. Created: Granted=False, reason=PendingEvaluation<br />  2. Processed: Granted=True/False based on quota availability and validation<br />  3. Updated: Granted condition changes only when allocation results change |  |  |


#### ResourceClaimTemplate



ResourceClaimTemplate defines how to create **ResourceClaims** using actual **ResourceClaim** structure.



_Appears in:_
- [ClaimTargetSpec](#claimtargetspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMetaTemplate](#objectmetatemplate)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  | Required: \{\} <br /> |
| `spec` <br />_[ResourceClaimSpec](#resourceclaimspec)_ | Spec for the created ResourceClaim.<br /><br />String fields support CEL expressions. |  | Required: \{\} <br /> |


#### ResourceGrant



ResourceGrant allocates quota capacity to a consumer for specific resource types.
Grants provide the allowances that AllowanceBuckets aggregate to determine
available quota for ResourceClaim evaluation.

### How It Works
**ResourceGrants** begin their lifecycle when either an administrator creates them manually or a
**GrantCreationPolicy** generates them automatically in response to observed resource changes. Upon
creation, the grant enters a validation phase where the quota system examines the consumer type
to ensure it matches the expected `ConsumerType` from each **ResourceRegistration** targeted by
the grant's allowances. The quota system also verifies that all specified resource types correspond
to active registrations and that the allowance amounts are valid non-negative integers.

When validation succeeds, the quota system marks the grant as `Active`, signaling to **AllowanceBucket**
resources that this grant should contribute to quota calculations. The bucket resources
continuously monitor for active grants and aggregate their allowance amounts into the appropriate
buckets based on consumer and resource type matching. This aggregation process makes the granted
quota capacity available for **ResourceClaim** consumption.

**ResourceClaims** then consume the capacity that active grants provide, creating a flow from grants
through buckets to claims. The grant's capacity remains reserved as long as claims reference it,
ensuring that quota allocations persist until the consuming resources are removed. This creates
a stable quota environment where capacity allocations remain consistent across resource lifecycles.

### Core Relationships
- **Provides capacity to**: AllowanceBucket matching (spec.consumerRef, spec.allowances[].resourceType)
- **Consumed by**: ResourceClaim objects processed against the aggregated buckets
- **Validated against**: ResourceRegistration for each spec.allowances[].resourceType
- **Created by**: Administrators manually or GrantCreationPolicy automatically

### Quota Aggregation Logic
Multiple ResourceGrants for the same (consumer, resourceType) combination:
- Aggregate into a single AllowanceBucket for that combination
- All bucket amounts from all allowances are summed for total capacity
- Only Active grants contribute to the aggregated limit
- Inactive grants are excluded from quota calculations

### Grant vs Bucket Relationship
- **ResourceGrant**: Specifies intended quota allocations
- **AllowanceBucket**: Aggregates actual available quota from active grants
- **ResourceClaim**: Consumes quota from buckets (which source from grants)

### Allowance Structure
Each grant can contain multiple allowances for different resource types:
- All allowances share the same consumer (spec.consumerRef)
- Each allowance can have multiple buckets (for tracking, attribution, or incremental increases)
- Bucket amounts within an allowance are summed for that resource type

### Manual vs Automated Grants
**Manual Grants** (created by administrators):
- Explicit quota allocations for specific consumers
- Require direct management and updates
- Useful for base quotas, special allocations, or testing

**Automated Grants** (created by GrantCreationPolicy):
- Generated based on resource lifecycle events
- Include labels/annotations for tracking policy source
- Automatically managed based on trigger conditions

### Validation Requirements
- Consumer type must match ResourceRegistration.spec.consumerType for each resource type
- All resource types must reference active ResourceRegistration objects
- Maximum 20 allowances per grant
- All amounts must be non-negative integers in BaseUnit

### Field Constraints and Limits
- Maximum 20 allowances per grant
- Each allowance must have at least 1 bucket
- Bucket amounts must be non-negative (0 is allowed but provides no quota)
- All amounts measured in BaseUnit from ResourceRegistration

### Status Information
- **Active condition**: Indicates whether grant is contributing to quota buckets
- **Validation errors**: Reported in condition message when Active=False
- **Processing status**: ObservedGeneration tracks spec changes

### Selectors and Filtering
- **Field selectors**: spec.consumerRef.kind, spec.consumerRef.name
- **Recommended labels** (add manually for better organization):
  - quota.miloapis.com/consumer-kind: Organization
  - quota.miloapis.com/consumer-name: acme-corp
  - quota.miloapis.com/source: policy-name or manual
  - quota.miloapis.com/tier: basic, premium, enterprise

### Common Queries
- All grants for a consumer: field selector spec.consumerRef.kind + spec.consumerRef.name
- Grants by source policy: label selector quota.miloapis.com/source=&lt;policy-name&gt;
- Grants by resource tier: label selector quota.miloapis.com/tier=&lt;tier-name&gt;
- Active vs inactive grants: check status.conditions[type=Active].status

### Cross-Cluster Allocation
GrantCreationPolicy can create grants in parent control planes for cross-cluster quota:
- Policy running in child cluster creates grants in parent cluster
- Grants provide capacity that spans multiple child clusters
- Enables centralized quota management across cluster hierarchies

### Troubleshooting
- **Inactive grants**: Check status.conditions[type=Active] for validation errors
- **Missing quota**: Verify grants are Active and contributing to correct buckets
- **Grant conflicts**: Multiple grants for same consumer+resourceType are aggregated, not conflicting

### Performance Considerations
- Large numbers of grants can impact bucket aggregation performance
- Consider consolidating grants where possible to reduce aggregation overhead
- Grant status updates are asynchronous and may lag spec changes



_Appears in:_
- [ResourceGrantList](#resourcegrantlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceGrant` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ResourceGrantSpec](#resourcegrantspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ResourceGrantStatus](#resourcegrantstatus)_ |  |  |  |


#### ResourceGrantList



ResourceGrantList contains a list of ResourceGrant.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceGrantList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ResourceGrant](#resourcegrant) array_ |  |  |  |


#### ResourceGrantSpec



ResourceGrantSpec defines the desired state of ResourceGrant.



_Appears in:_
- [ResourceGrant](#resourcegrant)
- [ResourceGrantTemplate](#resourcegranttemplate)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `consumerRef` <br />_[ConsumerRef](#consumerref)_ | ConsumerRef identifies the quota consumer that receives these allowances.<br /><br />The consumer type must match the ConsumerType defined in the ResourceRegistration<br />for each allowance resource type. The system validates this relationship.<br /><br />Examples:<br />- Organization receiving Project quota allowances<br />- Project receiving User quota allowances<br />- Organization receiving storage quota allowances |  | Required: \{\} <br /> |
| `allowances` <br />_[Allowance](#allowance) array_ | Allowances specifies the quota allocations provided by this grant.<br /><br />Each allowance grants capacity for a specific resource type.<br /><br />Minimum 1 allowance required, maximum 20 allowances per grant.<br /><br />All allowances in a single grant:<br />- Apply to the same consumer (spec.consumerRef)<br />- Contribute to the same AllowanceBucket for each resource type<br />- Activate and deactivate together based on the grant's status |  | MinItems: 1 <br />Required: \{\} <br /> |


#### ResourceGrantStatus



ResourceGrantStatus reports the grant's operational state and processing status.
Controllers update status conditions to indicate whether the grant is active
and contributing capacity to AllowanceBuckets.



_Appears in:_
- [ResourceGrant](#resourcegrant)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration indicates the most recent spec generation the quota system has processed.<br /><br />When ObservedGeneration matches metadata.generation, the status reflects the current spec.<br /><br />When ObservedGeneration is lower, the quota system is still processing recent changes. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represents the latest available observations of the grant's state.<br /><br />Controllers set these conditions to communicate operational status.<br /><br />Standard condition types:<br />- "Active": Indicates whether the grant is operational and contributing to quota buckets.<br /><br />When True, allowances are aggregated into AllowanceBuckets and available for claims.<br /><br />When False, allowances do not contribute to quota decisions.<br /><br />Standard condition reasons for "Active":<br />- "GrantActive": Grant is validated and contributing to quota buckets<br />- "ValidationFailed": Specification contains errors preventing activation (see message)<br />- "GrantPending": Grant is being processed by the quota system<br />Grant Lifecycle:<br />1. Created: Active=Unknown, reason=GrantPending<br />2. Validated: Active=True, reason=GrantActive OR Active=False, reason=ValidationFailed<br />3. Updated: Active condition changes only when validation results change |  |  |


#### ResourceGrantTemplate



ResourceGrantTemplate defines the specification for creating ResourceGrants using actual ResourceGrant structure.



_Appears in:_
- [GrantTargetSpec](#granttargetspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metadata` <br />_[ObjectMetaTemplate](#objectmetatemplate)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  | Required: \{\} <br /> |
| `spec` <br />_[ResourceGrantSpec](#resourcegrantspec)_ | Spec for the created ResourceGrant.<br /><br />String fields support CEL expressions wrapped in \{\{ \}\} delimiters. |  | Required: \{\} <br /> |


#### ResourceRegistration



ResourceRegistration enables quota tracking for a specific resource type.
Administrators create registrations to define measurement units, consumer relationships,
and claiming permissions.

### How It Works
- Administrators create registrations to enable quota tracking for specific resource types
- The system validates the registration and sets the "Active" condition when ready
- ResourceGrants can then allocate capacity for the registered resource type
- ResourceClaims can consume capacity when allowed resources are created

### Core Relationships
- **ResourceGrant.spec.allowances[].resourceType** must match this registration's **spec.resourceType**
- **ResourceClaim.spec.requests[].resourceType** must match this registration's **spec.resourceType**
- **ResourceClaim.spec.consumerRef** must match this registration's **spec.consumerType** type
- **ResourceClaim.spec.resourceRef** kind must be listed in this registration's **spec.claimingResources**

### Registration Lifecycle
1. **Creation**: Administrator creates **ResourceRegistration** with resource type and consumer type
2. **Validation**: System validates that referenced resource types exist and are accessible
3. **Activation**: System sets `Active=True` condition when validation passes
4. **Operation**: **ResourceGrants** and **ResourceClaims** can reference the active registration
5. **Updates**: Only mutable fields (`description`, `claimingResources`) can be changed

### Status Conditions
- **Active=True**: Registration is validated and operational; grants and claims can use it
- **Active=False, reason=ValidationFailed**: Configuration errors prevent activation (check message)
- **Active=False, reason=RegistrationPending**: Quota system is processing the registration

### Measurement Types
- **Entity registrations** (`spec.type=Entity`): Count discrete resource instances (**Projects**, **Users**)
- **Allocation registrations** (`spec.type=Allocation`): Measure capacity amounts (CPU, memory, storage)

### Field Constraints and Limits
- Maximum 20 entries in **spec.claimingResources**
- **spec.resourceType**, **spec.consumerType**, and **spec.type** are immutable after creation
- **spec.description** maximum 500 characters
- **spec.baseUnit** and **spec.displayUnit** maximum 50 characters each
- **spec.unitConversionFactor** minimum value is 1

### Selectors and Filtering
- **Field selectors**: spec.consumerType.kind, spec.consumerType.apiGroup, spec.resourceType
- **Recommended labels** (add manually):
  - quota.miloapis.com/resource-kind: Project
  - quota.miloapis.com/resource-apigroup: resourcemanager.miloapis.com
  - quota.miloapis.com/consumer-kind: Organization

### Security Considerations
- Only include trusted resource types in **spec.claimingResources**
- Registrations are cluster-scoped and affect quota system-wide
- Consumer types must have appropriate RBAC permissions to create claims



_Appears in:_
- [ResourceRegistrationList](#resourceregistrationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceRegistration` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ResourceRegistrationSpec](#resourceregistrationspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ResourceRegistrationStatus](#resourceregistrationstatus)_ |  |  |  |


#### ResourceRegistrationList



ResourceRegistrationList contains a list of ResourceRegistration.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `quota.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ResourceRegistrationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ResourceRegistration](#resourceregistration) array_ |  |  |  |


#### ResourceRegistrationSpec



ResourceRegistrationSpec defines the desired state of ResourceRegistration.



_Appears in:_
- [ResourceRegistration](#resourceregistration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `consumerType` <br />_[ConsumerType](#consumertype)_ | ConsumerType specifies which resource type receives grants and creates claims for this registration.<br /><br />The consumer type must exist in the cluster before creating the registration.<br /><br />Example: When registering "Projects per Organization", set `ConsumerType` to **Organization**<br />(apiGroup: `resourcemanager.miloapis.com`, kind: `Organization`). **Organizations** then<br />receive **ResourceGrants** allocating **Project** quota and create **ResourceClaims** when **Projects** are created. |  | Required: \{\} <br /> |
| `type` <br />_string_ | Type specifies the measurement method for quota tracking.<br /><br />This field is immutable after creation.<br /><br />Valid values:<br />- `Entity`: Counts discrete resource instances. Use for resources where each instance<br />  consumes exactly 1 quota unit (for example, **Projects**, **Users**, **Databases**).<br /><br />Claims always request integer quantities.<br />- `Allocation`: Measures numeric capacity or resource amounts. Use for resources<br />  with variable consumption (for example, CPU millicores, memory bytes, storage capacity).<br /><br />Claims can request fractional amounts based on resource specifications. |  | Enum: [Entity Allocation] <br />Required: \{\} <br /> |
| `resourceType` <br />_string_ | ResourceType identifies the resource to track with quota.<br /><br />Platform administrators define resource type identifiers that make sense for their<br />quota system usage. This field is immutable after creation.<br /><br />The identifier format is flexible to accommodate various naming conventions<br />and organizational needs. Service providers can use any meaningful identifier.<br /><br />Examples:<br />- "resourcemanager.miloapis.com/projects"<br />- "iam.miloapis.com/users"<br />- "compute_cpu"<br />- "storage.volumes"<br />- "custom-service-quota" |  | MaxLength: 253 <br />MinLength: 1 <br />Required: \{\} <br /> |
| `description` <br />_string_ | Description provides human-readable context about what this registration tracks.<br /><br />Use clear, specific language that explains the resource type and measurement approach.<br /><br />Maximum 500 characters.<br /><br />Examples:<br />- "Projects created within Organizations"<br />- "CPU millicores allocated to workloads"<br />- "Storage bytes claimed by volume requests" |  | MaxLength: 500 <br />MinLength: 1 <br />Optional: \{\} <br /> |
| `baseUnit` <br />_string_ | BaseUnit defines the internal measurement unit for all quota calculations.<br /><br />The system stores and processes all quota amounts using this unit.<br /><br />Use singular form with lowercase letters. Maximum 50 characters.<br /><br />Examples:<br />- "project" (for Entity type tracking Projects)<br />- "millicore" (for CPU allocation)<br />- "byte" (for storage or memory)<br />- "user" (for Entity type tracking Users) |  | MaxLength: 50 <br />MinLength: 1 <br />Required: \{\} <br /> |
| `displayUnit` <br />_string_ | DisplayUnit defines the unit shown in user interfaces and API responses.<br /><br />Should be more human-readable than BaseUnit. Use singular form. Maximum 50 characters.<br /><br />Examples:<br />- "project" (same as BaseUnit when no conversion needed)<br />- "core" (for displaying CPU instead of millicores)<br />- "GiB" (for displaying memory/storage instead of bytes)<br />- "TB" (for large storage volumes) |  | MaxLength: 50 <br />MinLength: 1 <br />Required: \{\} <br /> |
| `unitConversionFactor` <br />_integer_ | UnitConversionFactor converts BaseUnit values to DisplayUnit values for presentation.<br /><br />Must be a positive integer. Minimum value is 1 (no conversion).<br /><br />Formula: displayValue = baseValue / unitConversionFactor<br />Examples:<br />- 1 (no conversion: "project" to "project")<br />- 1000 (millicores to cores: 2000 millicores displays as 2 cores)<br />- 1073741824 (bytes to GiB: 2147483648 bytes displays as 2 GiB)<br />- 1000000000000 (bytes to TB: 2000000000000 bytes displays as 2 TB) |  | Minimum: 1 <br />Required: \{\} <br /> |
| `claimingResources` <br />_[ClaimingResource](#claimingresource) array_ | ClaimingResources specifies which resource types can create ResourceClaims for this registration.<br /><br />Only resources listed here can trigger quota consumption for this resource type.<br /><br />At least one claiming resource must be specified.<br /><br />Maximum 20 entries. |  | MaxItems: 20 <br />MinItems: 1 <br />Required: \{\} <br /> |


#### ResourceRegistrationStatus



ResourceRegistrationStatus reports the registration's operational state and processing status.
The system updates status conditions to indicate whether the registration is active and
usable for quota operations.



_Appears in:_
- [ResourceRegistration](#resourceregistration)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration indicates the most recent spec generation that the system has processed.<br /><br />When ObservedGeneration matches metadata.generation, the status reflects the current spec.<br /><br />When ObservedGeneration is lower, the system is still processing recent changes. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represents the latest available observations of the registration's state.<br /><br />The system sets these conditions to communicate operational status.<br /><br />Standard condition types:<br />- "Active": Indicates whether the registration is operational. When True, ResourceGrants<br />  and ResourceClaims can reference this registration. When False, quota operations are blocked.<br /><br />Standard condition reasons for "Active":<br />- "RegistrationActive": Registration is validated and operational<br />- "ValidationFailed": Specification contains errors (see message for details)<br />- "RegistrationPending": Registration is being processed |  |  |


#### ResourceRequest



ResourceRequest defines a single resource request within a ResourceClaim.
Each request specifies a resource type and the amount of quota being claimed.



_Appears in:_
- [ResourceClaimSpec](#resourceclaimspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `resourceType` <br />_string_ | ResourceType identifies the specific resource type being claimed. Must<br />exactly match a ResourceRegistration.spec.resourceType that is currently<br />active. The quota system validates this reference during claim processing.<br /><br />The format is defined by platform administrators when creating ResourceRegistrations.<br /><br />Service providers can use any identifier that makes sense for their quota system usage.<br /><br />Examples:<br />  - "resourcemanager.miloapis.com/projects"<br />  - "compute_cpu"<br />  - "storage.volumes"<br />  - "custom-service-quota" |  | Required: \{\} <br /> |
| `amount` <br />_integer_ | Amount specifies how much quota to claim for this resource type. Must be<br />measured in the BaseUnit defined by the corresponding ResourceRegistration.<br /><br />Must be a positive integer (minimum value is 0, but 0 means no quota<br />requested).<br /><br />For Entity registrations: Use 1 for single resource instances (1 Project, 1<br />User) For Allocation registrations: Use actual capacity amounts (2048 for<br />2048 MB, 1000 for 1000 millicores)<br />Examples:<br />  - 1 (claiming 1 Project)<br />  - 2048 (claiming 2048 bytes of storage)<br />  - 1000 (claiming 1000 CPU millicores) |  | Minimum: 0 <br />Required: \{\} <br /> |


#### UnversionedObjectReference



UnversionedObjectReference provides a stable reference to a Kubernetes resource
that remains valid across API version changes. Used to link ResourceClaims
to their triggering resources for lifecycle management.



_Appears in:_
- [ResourceClaimSpec](#resourceclaimspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiGroup` <br />_string_ | APIGroup specifies the API group of the referenced resource.<br /><br />Use full group name for Milo resources.<br /><br />Examples:<br />- "resourcemanager.miloapis.com" (Project, Organization)<br />- "iam.miloapis.com" (User, Group)<br />- "infrastructure.miloapis.com" (infrastructure resources) |  | Optional: \{\} <br /> |
| `kind` <br />_string_ | Kind specifies the type of the referenced resource.<br /><br />Must match an existing Kubernetes resource type.<br /><br />Examples:<br />- "Project" (Project resource that triggered quota claim)<br />- "User" (User resource that triggered quota claim)<br />- "Organization" (Organization resource that triggered quota claim) |  | Required: \{\} <br /> |
| `name` <br />_string_ | Name identifies the specific resource instance that triggered the quota claim.<br /><br />Used for linking claims back to their triggering resources.<br /><br />Examples:<br />- "web-app-project" (Project that triggered Project quota claim)<br />- "john.doe" (User that triggered User quota claim) |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace specifies the namespace containing the referenced resource.<br /><br />Required for namespaced resources, omitted for cluster-scoped resources.<br /><br />Examples:<br />- "acme-corp" (organization namespace containing Project)<br />- "team-alpha" (project namespace containing User)<br />- "" or omitted (for cluster-scoped resources like Organization) |  | Optional: \{\} <br /> |



## resourcemanager.miloapis.com/v1alpha1



### Resource Types
- [Organization](#organization)
- [OrganizationList](#organizationlist)
- [OrganizationMembership](#organizationmembership)
- [OrganizationMembershipList](#organizationmembershiplist)
- [Project](#project)
- [ProjectList](#projectlist)



#### AppliedRole



AppliedRole tracks the reconciliation status of a single role assignment
within an organization membership. The controller maintains this status to
provide visibility into which roles are successfully applied and which failed.



_Appears in:_
- [OrganizationMembershipStatus](#organizationmembershipstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name identifies the Role resource.<br /><br />Required field. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace identifies the namespace containing the Role resource.<br /><br />Empty when the role is in the membership's namespace. |  | Optional: \{\} <br /> |
| `status` <br />_string_ | Status indicates the current state of this role assignment.<br /><br />Valid values:<br />  - "Applied": PolicyBinding successfully created and role is active<br />  - "Pending": Role is being reconciled (transitional state)<br />  - "Failed": PolicyBinding could not be created (see Message for details)<br />Required field. |  | Enum: [Applied Pending Failed] <br />Required: \{\} <br /> |
| `message` <br />_string_ | Message provides additional context about the role status.<br /><br />Contains error details when Status is "Failed", explaining why the<br />PolicyBinding could not be created.<br /><br />Common failure messages:<br />  - "role 'role-name' not found in namespace 'namespace'"<br />  - "Failed to create PolicyBinding: &lt;error details&gt;"<br />Empty when Status is "Applied" or "Pending". |  | Optional: \{\} <br /> |
| `policyBindingRef` <br />_[PolicyBindingReference](#policybindingreference)_ | PolicyBindingRef references the PolicyBinding resource that was<br />automatically created for this role.<br /><br />Only populated when Status is "Applied". Use this reference to<br />inspect or troubleshoot the underlying PolicyBinding. |  | Optional: \{\} <br /> |
| `appliedAt` <br />_[Time](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#time-v1-meta)_ | AppliedAt records when this role was successfully applied.<br /><br />Corresponds to the PolicyBinding creation time.<br /><br />Only populated when Status is "Applied". |  | Optional: \{\} <br /> |


#### MemberReference



MemberReference contains information that points to the User being referenced.



_Appears in:_
- [OrganizationMembershipSpec](#organizationmembershipspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of resource being referenced |  | Required: \{\} <br /> |


#### Organization



Use lowercase for path, which influences plural name. Ensure kind is Organization.
Organization is the Schema for the Organizations API



_Appears in:_
- [OrganizationList](#organizationlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Organization` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[OrganizationSpec](#organizationspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[OrganizationStatus](#organizationstatus)_ |  |  |  |


#### OrganizationList



OrganizationList contains a list of Organization





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `OrganizationList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Organization](#organization) array_ |  |  |  |


#### OrganizationMembership



OrganizationMembership establishes a user's membership in an organization and
optionally assigns roles to grant permissions. The controller automatically
manages PolicyBinding resources for each assigned role, simplifying access
control management.

Key features:
  - Establishes user-organization relationship
  - Automatic PolicyBinding creation and deletion for assigned roles
  - Supports multiple roles per membership
  - Cross-namespace role references
  - Detailed status tracking with per-role reconciliation state

Prerequisites:
  - User resource must exist
  - Organization resource must exist
  - Referenced Role resources must exist in their respective namespaces

Example - Basic membership with role assignment:

	apiVersion: resourcemanager.miloapis.com/v1alpha1
	kind: OrganizationMembership
	metadata:
	  name: jane-acme-membership
	  namespace: organization-acme-corp
	spec:
	  organizationRef:
	    name: acme-corp
	  userRef:
	    name: jane-doe
	  roles:
	  - name: organization-viewer
	    namespace: organization-acme-corp

Related resources:
  - User: The user being granted membership
  - Organization: The organization the user joins
  - Role: Defines permissions granted to the user
  - PolicyBinding: Automatically created by the controller for each role



_Appears in:_
- [OrganizationMembershipList](#organizationmembershiplist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `OrganizationMembership` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[OrganizationMembershipSpec](#organizationmembershipspec)_ |  |  |  |
| `status` <br />_[OrganizationMembershipStatus](#organizationmembershipstatus)_ |  |  |  |


#### OrganizationMembershipList



OrganizationMembershipList contains a list of OrganizationMembership





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `OrganizationMembershipList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[OrganizationMembership](#organizationmembership) array_ |  |  |  |


#### OrganizationMembershipOrganizationStatus



OrganizationMembershipOrganizationStatus defines the observed state of an organization in a membership.



_Appears in:_
- [OrganizationMembershipStatus](#organizationmembershipstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `type` <br />_string_ | Type is the type of the organization in the membership. |  | Optional: \{\} <br /> |
| `displayName` <br />_string_ | DisplayName is the display name of the organization in the membership. |  | Optional: \{\} <br /> |


#### OrganizationMembershipSpec



OrganizationMembershipSpec defines the desired state of OrganizationMembership.
It specifies which user should be a member of which organization, and optionally
which roles should be assigned to grant permissions.



_Appears in:_
- [OrganizationMembership](#organizationmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `organizationRef` <br />_[OrganizationReference](#organizationreference)_ | OrganizationRef identifies the organization to grant membership in.<br /><br />The organization must exist before creating the membership.<br /><br />Required field. |  | Required: \{\} <br /> |
| `userRef` <br />_[MemberReference](#memberreference)_ | UserRef identifies the user to grant organization membership.<br /><br />The user must exist before creating the membership.<br /><br />Required field. |  | Required: \{\} <br /> |
| `roles` <br />_[RoleReference](#rolereference) array_ | Roles specifies a list of roles to assign to the user within the organization.<br /><br />The controller automatically creates and manages PolicyBinding resources for<br />each role. Roles can be added or removed after the membership is created.<br /><br />Optional field. When omitted or empty, the membership is established without<br />any role assignments. Roles can be added later via update operations.<br /><br />Each role reference must specify:<br />  - name: The role name (required)<br />  - namespace: The role namespace (optional, defaults to membership namespace)<br />Duplicate roles are prevented by admission webhook validation.<br /><br />Example:<br />  roles:<br />  - name: organization-admin<br />    namespace: organization-acme-corp<br />  - name: billing-manager<br />    namespace: organization-acme-corp<br />  - name: shared-developer<br />    namespace: milo-system |  | Optional: \{\} <br /> |


#### OrganizationMembershipStatus



OrganizationMembershipStatus defines the observed state of OrganizationMembership.
The controller populates this status to reflect the current reconciliation state,
including whether the membership is ready and which roles have been successfully applied.



_Appears in:_
- [OrganizationMembership](#organizationmembership)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration tracks the most recent membership spec that the<br />controller has processed. Use this to determine if status reflects<br />the latest changes. |  | Optional: \{\} <br /> |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represent the current status of the membership.<br /><br />Standard conditions:<br />  - Ready: Indicates membership has been established (user and org exist)<br />  - RolesApplied: Indicates whether all roles have been successfully applied<br />Check the RolesApplied condition to determine overall role assignment status:<br />  - True with reason "AllRolesApplied": All roles successfully applied<br />  - True with reason "NoRolesSpecified": No roles in spec, membership only<br />  - False with reason "PartialRolesApplied": Some roles failed (check appliedRoles for details) | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] | Optional: \{\} <br /> |
| `user` <br />_[OrganizationMembershipUserStatus](#organizationmembershipuserstatus)_ | User contains cached information about the user in this membership.<br /><br />This information is populated by the controller from the referenced user. |  | Optional: \{\} <br /> |
| `organization` <br />_[OrganizationMembershipOrganizationStatus](#organizationmembershiporganizationstatus)_ | Organization contains cached information about the organization in this membership.<br /><br />This information is populated by the controller from the referenced organization. |  | Optional: \{\} <br /> |
| `appliedRoles` <br />_[AppliedRole](#appliedrole) array_ | AppliedRoles tracks the reconciliation state of each role in spec.roles.<br /><br />This array provides per-role status, making it easy to identify which<br />roles are applied and which failed.<br /><br />Each entry includes:<br />  - name and namespace: Identifies the role<br />  - status: "Applied", "Pending", or "Failed"<br />  - policyBindingRef: Reference to the created PolicyBinding (when Applied)<br />  - appliedAt: Timestamp when role was applied (when Applied)<br />  - message: Error details (when Failed)<br />Use this to troubleshoot role assignment issues. Roles marked as "Failed"<br />include a message explaining why the PolicyBinding could not be created.<br /><br />Example:<br />  appliedRoles:<br />  - name: org-admin<br />    namespace: organization-acme-corp<br />    status: Applied<br />    appliedAt: "2025-10-28T10:00:00Z"<br />    policyBindingRef:<br />      name: jane-acme-membership-a1b2c3d4<br />      namespace: organization-acme-corp<br />  - name: invalid-role<br />    namespace: organization-acme-corp<br />    status: Failed<br />    message: "role 'invalid-role' not found in namespace 'organization-acme-corp'" |  | Optional: \{\} <br /> |


#### OrganizationMembershipUserStatus



OrganizationMembershipUserStatus defines the observed state of a user in a membership.



_Appears in:_
- [OrganizationMembershipStatus](#organizationmembershipstatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `email` <br />_string_ | Email is the email of the user in the membership. |  | Optional: \{\} <br /> |
| `givenName` <br />_string_ | GivenName is the given name of the user in the membership. |  | Optional: \{\} <br /> |
| `familyName` <br />_string_ | FamilyName is the family name of the user in the membership. |  | Optional: \{\} <br /> |
| `avatarUrl` <br />_string_ | AvatarURL is the avatar URL of the user in the membership. |  | Optional: \{\} <br /> |


#### OrganizationReference



OrganizationReference contains information that points to the Organization being referenced.



_Appears in:_
- [OrganizationMembershipSpec](#organizationmembershipspec)
- [UserInvitationSpec](#userinvitationspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name is the name of resource being referenced |  | Required: \{\} <br /> |


#### OrganizationSpec



OrganizationSpec defines the desired state of Organization



_Appears in:_
- [Organization](#organization)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `type` <br />_string_ | The type of organization. |  | Enum: [Personal Standard] <br />Required: \{\} <br /> |


#### OrganizationStatus



OrganizationStatus defines the observed state of Organization



_Appears in:_
- [Organization](#organization)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `observedGeneration` <br />_integer_ | ObservedGeneration is the most recent generation observed for this Organization by the controller. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Conditions represents the observations of an organization's current state.<br /><br />Known condition types are: "Ready" | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] |  |


#### OwnerReference



OwnerReference is a reference to the owner of the project.



_Appears in:_
- [ProjectSpec](#projectspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `kind` <br />_string_ | Kind is the kind of the resource. |  | Enum: [Organization] <br />Required: \{\} <br /> |
| `name` <br />_string_ | Name is the name of the resource. |  | Required: \{\} <br /> |


#### PolicyBindingReference



PolicyBindingReference contains information about the PolicyBinding created for a role.



_Appears in:_
- [AppliedRole](#appliedrole)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name of the PolicyBinding resource. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the PolicyBinding resource. |  | Optional: \{\} <br /> |


#### Project



Project is the Schema for the projects API.



_Appears in:_
- [ProjectList](#projectlist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `Project` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ProjectSpec](#projectspec)_ |  |  | Required: \{\} <br /> |
| `status` <br />_[ProjectStatus](#projectstatus)_ |  |  |  |


#### ProjectList



ProjectList contains a list of Project.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `resourcemanager.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ProjectList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[Project](#project) array_ |  |  |  |


#### ProjectSpec



ProjectSpec defines the desired state of Project.



_Appears in:_
- [Project](#project)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `ownerRef` <br />_[OwnerReference](#ownerreference)_ | OwnerRef is a reference to the owner of the project. Must be a valid<br />resource. |  | Required: \{\} <br /> |


#### ProjectStatus



ProjectStatus defines the observed state of Project.



_Appears in:_
- [Project](#project)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Represents the observations of a project's current state.<br /><br />Known condition types are: "Ready" | [map[lastTransitionTime:1970-01-01T00:00:00Z message:Waiting for control plane to reconcile reason:Unknown status:Unknown type:Ready]] |  |


#### RoleReference



RoleReference defines a reference to a Role resource for organization membership.



_Appears in:_
- [OrganizationMembershipSpec](#organizationmembershipspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | Name of the referenced Role. |  | Required: \{\} <br /> |
| `namespace` <br />_string_ | Namespace of the referenced Role.<br /><br />If not specified, it defaults to the organization membership's namespace. |  | Optional: \{\} <br /> |



## telemetry.miloapis.com/v1alpha1

Package v1alpha1 contains API Schema definitions for the telemetry v1alpha1 API group.

### Resource Types
- [ExportPolicy](#exportpolicy)
- [ExportPolicyList](#exportpolicylist)



#### Authentication



Configures how the sink will authenticate with the configured endpoint. These
options are mutually exclusive.



_Appears in:_
- [PrometheusRemoteWriteSink](#prometheusremotewritesink)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `basicAuth` <br />_[BasicAuthAuthentication](#basicauthauthentication)_ | Configures the sink to use basic auth to authenticate with the configured<br />endpoint. |  |  |


#### BasicAuthAuthentication

_Underlying type:_ _[struct&#123;SecretRef LocalSecretReference "json:\"secretRef\""&#125;](#struct&#123;secretref-localsecretreference-"json:\"secretref\""&#125;)_

Configures how the sink should use Basic Auth for authenticating with a
telemetry endpoint.



_Appears in:_
- [Authentication](#authentication)



#### Batch



Configures the batching behavior the sink will use to batch requests before
publishing them to the endpoint.



_Appears in:_
- [PrometheusRemoteWriteSink](#prometheusremotewritesink)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `timeout` <br />_[Duration](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#duration-v1-meta)_ | Batch timeout before sending telemetry. Must be a duration (e.g. 5s). |  | Required: \{\} <br /> |
| `maxSize` <br />_integer_ | Maximum number of telemetry entries per batch. |  | Maximum: 5000 <br />Minimum: 1 <br />Required: \{\} <br /> |


#### ExportPolicy



ExportPolicy is the Schema for the export policy API.



_Appears in:_
- [ExportPolicyList](#exportpolicylist)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `telemetry.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ExportPolicy` | | |
| `metadata` <br />_[ObjectMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#objectmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `spec` <br />_[ExportPolicySpec](#exportpolicyspec)_ | Describes the expected state of the ExportPolicy's configuration. The<br />control plane will constantly evaluate the current state of exporters that<br />are deployed and ensure it matches the expected configuration. This field<br />is required when configuring an export policy. |  |  |
| `status` <br />_[ExportPolicyStatus](#exportpolicystatus)_ | Provides information on the current state of the export policy that was<br />observed by the control plane. This will be continuously updated as the<br />control plane monitors exporters. |  |  |


#### ExportPolicyList



ExportPolicyList contains a list of ExportPolicy.





| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `apiVersion` <br />_string_ | `telemetry.miloapis.com/v1alpha1` | | |
| `kind` <br />_string_ | `ExportPolicyList` | | |
| `metadata` <br />_[ListMeta](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#listmeta-v1-meta)_ | Refer to Kubernetes API documentation for fields of `metadata`. |  |  |
| `items` <br />_[ExportPolicy](#exportpolicy) array_ |  |  |  |


#### ExportPolicySpec



ExportPolicySpec defines the desired state of ExportPolicy.



_Appears in:_
- [ExportPolicy](#exportpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `sources` <br />_[TelemetrySource](#telemetrysource) array_ | Defines how the export policy should source telemetry data to publish to<br />the configured sinks. An export policy can define multiple telemetry<br />sources. The export policy will **not** de-duplicate telemetry data that<br />matches multiple sources. |  | MaxItems: 20 <br />MinItems: 1 <br />Required: \{\} <br /> |
| `sinks` <br />_[TelemetrySink](#telemetrysink) array_ | Configures how telemetry data should be sent to a third-party telemetry<br />platforms. |  | MaxItems: 20 <br />MinItems: 1 <br />Required: \{\} <br /> |


#### ExportPolicyStatus



ExportPolicyStatus defines the observed state of ExportPolicy.



_Appears in:_
- [ExportPolicy](#exportpolicy)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Provides summary status information on the export policy as a whole. Review<br />the sink status information for detailed information on each sink.<br /><br />Known condition types are: "Ready" |  |  |
| `sinks` <br />_[SinkStatus](#sinkstatus) array_ | Provides status information on each sink that's configured. |  |  |




#### MetricSource



A metric source configures the metric data that should be exported to the
configured sinks. The options below are expected to be mutually exclusive.



_Appears in:_
- [TelemetrySource](#telemetrysource)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `metricsql` <br />_string_ | The MetricSQL option allows to user to provide a metricsql query that can<br />be used to select and filter metric data that should be published by the<br />export policy.<br /><br />Here's an example of a metricsql query that will publish gateway metrics:<br />``` \{service_name=“networking.miloapis.com”, resource_kind="Gateway"\} ```<br />See: https://docs.victoriametrics.com/metricsql/ |  |  |


#### PrometheusRemoteWriteSink



Configures how the sink should send data to a OTLP HTTP endpoint.



_Appears in:_
- [SinkTarget](#sinktarget)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `authentication` <br />_[Authentication](#authentication)_ | Configures how the sink should authenticate with the HTTP endpoint. |  |  |
| `endpoint` <br />_string_ | Configure an HTTP endpoint to use for publishing telemetry data. |  | Required: \{\} <br /> |
| `batch` <br />_[Batch](#batch)_ | Configures how telemetry data should be batched before sending to the sink.<br /><br />By default, the sink will batch telemetry data every 5 seconds or when<br />the batch size reaches 500 entries, whichever comes first. | \{ maxSize:500 timeout:5s \} |  |
| `retry` <br />_[Retry](#retry)_ | Configures the export policies' retry behavior when it fails to send<br />requests to the sink's endpoint. There's no guarantees that the export<br />policy will retry until success if the endpoint is not available or<br />configured incorrectly. | \{ backoffDuration:5s maxAttempts:3 \} |  |


#### Retry



Configures the retry behavior of the sink when it fails to send telemetry
data to the configured endpoint.



_Appears in:_
- [PrometheusRemoteWriteSink](#prometheusremotewritesink)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `maxAttempts` <br />_integer_ | Maximum number of attempts before telemetry data should be dropped. |  | Maximum: 10 <br />Minimum: 1 <br />Required: \{\} <br /> |
| `backoffDuration` <br />_[Duration](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#duration-v1-meta)_ | Backoff duration that should be used to backoff when retrying requests. |  | Required: \{\} <br /> |


#### SinkStatus



SinkStatus provides status information on the current status of a sink. This
can be used to determine whether a sink is configured correctly and is
exporting telemetry data.



_Appears in:_
- [ExportPolicyStatus](#exportpolicystatus)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | The name of the corresponding sink configuration in the spec of the export<br />policy. |  |  |
| `conditions` <br />_[Condition](https://kubernetes.io/docs/reference/generated/kubernetes-api/v/#condition-v1-meta) array_ | Provides status information on the current status of the sink. This can be<br />used to determine whether a sink is configured correctly and is exporting<br />telemetry data.<br /><br />Known condition types are: "Ready" |  |  |


#### SinkTarget



Configures the target of the telemetry sink. The target defines the protocol
that's used to send telemetry data to the sink. Only one target protocol can
be configured per sink.



_Appears in:_
- [TelemetrySink](#telemetrysink)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `prometheusRemoteWrite` <br />_[PrometheusRemoteWriteSink](#prometheusremotewritesink)_ | Configures the export policy to publish telemetry using the Prometheus<br />Remote Write protocol. |  |  |


#### TelemetrySink



Configures how telemetry data should be sent to a third-party platform. As of
now there are no guarantees around delivery of telemetry data, especially if
the sink's endpoint is unavailable.



_Appears in:_
- [ExportPolicySpec](#exportpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | A name provided to the telemetry sink that's unique within the export<br />policy. |  | MaxLength: 63 <br />MinLength: 1 <br />Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?$` <br />Required: \{\} <br /> |
| `sources` <br />_string array_ | A list of sources that should be sent to the telemetry sink. |  | MaxItems: 20 <br />MinItems: 1 <br />Required: \{\} <br /> |
| `target` <br />_[SinkTarget](#sinktarget)_ | Configures the target of the telemetry sink. |  | Required: \{\} <br /> |


#### TelemetrySource



Defines how the export policy should source telemetry data from resources on
the platform.



_Appears in:_
- [ExportPolicySpec](#exportpolicyspec)

| Field | Description | Default | Validation |
| --- | --- | --- | --- |
| `name` <br />_string_ | A unique name given to the telemetry source within an export policy. Must<br />be a valid DNS label. |  | MaxLength: 63 <br />MinLength: 1 <br />Pattern: `^[a-z0-9]([-a-z0-9]*[a-z0-9])?$` <br />Required: \{\} <br /> |
| `metrics` <br />_[MetricSource](#metricsource)_ | Configures how the telemetry source should retrieve metric data from the<br />Datum Cloud platform. |  |  |


