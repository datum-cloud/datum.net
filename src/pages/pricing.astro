---
import '@v1/styles/global.css';
import Layout from '@layouts/Layout.astro';
import Hero from '@components/Hero.astro';
import Footer from '@components/Footer.astro';
import ContactForm from '@components/forms/Contact.astro';
import GlobalSection from '@components/GlobalSection.astro';
import { getCollectionEntry } from '@utils/collectionUtils';
import { render } from 'astro:content';
import { Image } from 'astro:assets';
import ImageSphere from '@v1/assets/images/sphere-full.png';

const page = await getCollectionEntry('pages', 'pricing');

const { Content } = await render(page);
---

<Layout title={page.data.title} description={page.data.description} bodyClass={`page--${page.id}`}>
  <section class="datum-container">
    <Hero
      class="light"
      iconName={page.data.iconName}
      title={page.data.title}
      subtitle={page.data.subtitle}
    />

    <div class="section--block section--block--pad bg-midnight-fjord dark">
      <div class="relative m-auto max-w-391">
        <div class="absolute -top-30 -right-40 z-40 inline-block">
          <Image
            src={ImageSphere}
            alt="Sphere"
            class="relative h-auto w-[245px]"
            data-scroll-effect="parallax"
            data-scroll-speed="0.1"
            data-scroll-direction="down"
            data-viewport-offset="-200"
            data-max-movement="50"
          />
        </div>

        <div class="grid grid-cols-12 gap-12">
          <div class="col-span-12 md:col-span-6 lg:col-span-4">
            <div class="prose prose-xl prose-dark max-w-none leading-[1.4]">
              <Content />
            </div>
          </div>
          <div class="col-span-12 flex justify-end-safe md:col-span-6 lg:col-span-7 lg:col-start-6">
            <ContactForm />
          </div>
        </div>
      </div>
    </div>
    <GlobalSection />
    <Footer />
  </section>
</Layout>
