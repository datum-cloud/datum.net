---
import { getIcon } from '@utils/iconMap';

const { name, class: className = '', size = 'md' } = Astro.props;

const sizeClasses = {
  sm: 'h-4 w-4',
  md: 'h-5 w-5',
  lg: 'h-6 w-6',
  xl: 'h-8 w-8',
} as const;

const IconComponent = getIcon(name);
const sizeClass = sizeClasses[size as keyof typeof sizeClasses] || sizeClasses.md;
---

{
  IconComponent ? (
    <IconComponent class={`${sizeClass} ${className}`} />
  ) : (
    <svg
      class={`${sizeClass} ${className}`}
      stroke="currentColor"
      viewBox="0 0 20 20"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <g clip-path="url(#clip0_18_28127)">
        <path
          d="M10 18.625C10.999 18.625 11.967 18.4193 12.874 18.0996C16.3134 16.8865 18.625 13.6254 18.625 9.98242C18.6249 6.33952 16.3134 3.07837 12.874 1.86523C11.9511 1.53995 10.9838 1.375 10 1.375H7.98828C7.41556 1.375 6.94629 1.83948 6.94629 2.41602V6.47559V6.47656C6.94653 7.07021 7.43223 7.50499 7.98438 7.50684L9.96094 7.5166H9.96387C10.6147 7.5166 11.2373 7.76942 11.7188 8.23535L11.8896 8.41797C12.2638 8.85723 12.4661 9.39379 12.4727 9.95508L12.4639 10.2021C12.4142 10.7737 12.1691 11.3028 11.7588 11.7168C11.2899 12.1898 10.6667 12.4492 9.99902 12.4492H9.97168L9.73145 12.4346C9.17641 12.3727 8.65691 12.1182 8.24609 11.6963C7.77594 11.2132 7.5166 10.5911 7.5166 9.94727V7.95215C7.51651 7.35007 7.03074 6.93457 6.48438 6.93457H2.41602C1.89038 6.9348 1.37509 7.33093 1.375 7.95215V12.0127C1.375 12.5636 1.8185 13.0652 2.41602 13.0654H5.62793C6.09204 13.0654 6.30836 13.0612 6.4834 13.085C6.70568 13.1149 6.76382 13.1644 6.78906 13.1895C6.81193 13.2122 6.86223 13.2681 6.89258 13.4922C6.92053 13.698 6.94628 13.9466 6.94629 14.3457V17.5498C6.94638 18.0098 7.28615 18.6247 7.96484 18.625H10Z"
          stroke="#0C1D31"
          stroke-width="1.25"
        />
      </g>
      <defs>
        <clipPath id="clip0_18_28127">
          <rect width="20" height="20" fill="white" />
        </clipPath>
      </defs>
    </svg>
  )
}
