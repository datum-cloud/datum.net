---
// src/v1/components/roadmap/Card.astro
import type { RoadmapCardProps } from '../../../types/roadmap';

export type Props = RoadmapCardProps;

const { id, title, description, votes, githubUrl, hasVoted = false } = Astro.props;
---

<div class="roadmap-card">
  <div class="roadmap-card--content">
    <div class="roadmap-card--vote-section">
      <div class="roadmap-card--vote-counter">
        <span class="roadmap-card--vote-number">{votes}</span>
        <span class="roadmap-card--vote-label">votes</span>
      </div>
    </div>

    <div class="roadmap-card--info-section">
      <div class="roadmap-card--text-content">
        <h3 class="roadmap-card--title">{title}</h3>
        <p class="roadmap-card--description">{description}</p>
      </div>

      <div class="roadmap-card--actions">
        <button class="roadmap-card--vote-button" data-project-id={id} data-has-voted={hasVoted}>
          {hasVoted ? 'Remove your vote' : 'Add your vote'}
        </button>

        {
          githubUrl && (
            <a
              href={githubUrl}
              target="_blank"
              rel="noopener noreferrer"
              class="roadmap-card--github-link"
            >
              Learn more on GitHub
            </a>
          )
        }
      </div>
    </div>
  </div>
</div>
